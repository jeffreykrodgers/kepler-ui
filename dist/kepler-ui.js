class e extends HTMLElement{static observedAttributes=["theme-path"];constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.loadTheme(),this.addEventListener("theme-change",(e=>{const{themePath:t}=e.detail;t&&this.setAttribute("theme-path",t)}))}attributeChangedCallback(e,t,n){"theme-path"===e&&t!==n&&this.loadTheme()}loadTheme(){const e='\n        <style>\n            /* Colors */\n            :root {\n                --green-light-1: rgba(237, 250, 243, 1);\n                --green-dark-1: rgba(5, 5, 5, 1);\n                --green-dark-2: rgba(10, 28, 19, 1);\n                --green-dark-3: rgba(15, 50, 33, 1);\n                --green-dark-4: rgba(20, 73, 46, 1);\n                --green-dark-5: rgba(25, 96, 60, 1);\n                --green-dark-6: rgba(30, 118, 74, 1);\n                --green-dark-7: rgba(35, 141, 88, 1);\n                --green-dark-8: rgba(40, 163, 101, 1);\n                --green-light-2: rgba(213, 242, 227, 1);\n                --green-light-3: rgba(189, 234, 211, 1);\n                --green-light-4: rgba(165, 226, 195, 1);\n                --green-light-5: rgba(141, 218, 179, 1);\n                --green-light-6: rgba(117, 210, 163, 1);\n                --green-light-7: rgba(93, 202, 147, 1);\n                --green-light-8: rgba(69, 194, 131, 1);\n                --neutral-black: rgba(0, 0, 0, 1);\n                --neutral-white: rgba(255, 255, 255, 1);\n                --neutral-1: rgba(241, 246, 250, 1);\n                --neutral-2: rgba(215, 219, 222, 1);\n                --neutral-3: rgba(188, 192, 195, 1);\n                --neutral-4: rgba(162, 165, 167, 1);\n                --neutral-5: rgba(135, 138, 140, 1);\n                --neutral-6: rgba(109, 110, 112, 1);\n                --neutral-7: rgba(82, 83, 84, 1);\n                --neutral-8: rgba(56, 56, 57, 1);\n                --neutral-9: rgba(29, 29, 29, 1);\n                --green--: rgba(45, 186, 115, 1);\n                --teal--: rgba(4, 178, 209, 1);\n                --teal-light-1: rgba(245, 249, 250, 1);\n                --teal-dark-1: rgba(5, 5, 5, 1);\n                --teal-light-2: rgba(215, 240, 245, 1);\n                --teal-light-3: rgba(185, 231, 240, 1);\n                --teal-light-4: rgba(155, 222, 235, 1);\n                --teal-light-5: rgba(125, 214, 230, 1);\n                --teal-light-6: rgba(94, 205, 224, 1);\n                --teal-light-7: rgba(64, 196, 219, 1);\n                --teal-light-8: rgba(34, 187, 214, 1);\n                --teal-dark-2: rgba(5, 27, 31, 1);\n                --teal-dark-3: rgba(5, 48, 56, 1);\n                --teal-dark-4: rgba(5, 70, 82, 1);\n                --teal-dark-5: rgba(5, 92, 107, 1);\n                --teal-dark-6: rgba(4, 113, 133, 1);\n                --teal-dark-7: rgba(4, 135, 158, 1);\n                --teal-dark-8: rgba(4, 156, 184, 1);\n                --blue-dark-1: rgba(4, 5, 5, 1);\n                --blue-dark-2: rgba(4, 21, 31, 1);\n                --blue-dark-3: rgba(4, 37, 56, 1);\n                --blue-dark-4: rgba(4, 53, 82, 1);\n                --blue-dark-5: rgba(4, 70, 107, 1);\n                --blue-dark-6: rgba(4, 86, 133, 1);\n                --blue-dark-7: rgba(4, 102, 158, 1);\n                --blue-dark-8: rgba(4, 118, 184, 1);\n                --blue--: rgba(4, 134, 209, 1);\n                --blue-light-1: rgba(245, 250, 250, 1);\n                --blue-light-2: rgba(215, 236, 245, 1);\n                --blue-light-3: rgba(185, 221, 240, 1);\n                --blue-light-4: rgba(155, 207, 235, 1);\n                --blue-light-5: rgba(125, 192, 230, 1);\n                --blue-light-6: rgba(94, 178, 224, 1);\n                --blue-light-7: rgba(64, 163, 219, 1);\n                --blue-light-8: rgba(34, 149, 214, 1);\n                --purple-dark-1: rgba(5, 4, 5, 1);\n                --purple-dark-2: rgba(21, 4, 31, 1);\n                --purple-dark-3: rgba(37, 4, 56, 1);\n                --purple-dark-4: rgba(53, 4, 82, 1);\n                --purple-dark-5: rgba(70, 4, 107, 1);\n                --purple-dark-6: rgba(86, 4, 133, 1);\n                --purple-dark-7: rgba(102, 4, 158, 1);\n                --purple-dark-8: rgba(118, 4, 184, 1);\n                --purple--: rgba(134, 4, 209, 1);\n                --purple-light-1: rgba(250, 245, 250, 1);\n                --purple-light-2: rgba(236, 215, 245, 1);\n                --purple-light-3: rgba(221, 185, 240, 1);\n                --purple-light-4: rgba(207, 155, 235, 1);\n                --purple-light-5: rgba(192, 125, 230, 1);\n                --purple-light-6: rgba(178, 94, 224, 1);\n                --purple-light-7: rgba(163, 64, 219, 1);\n                --purple-light-8: rgba(149, 34, 214, 1);\n                --pink-dark-1: rgba(5, 4, 5, 1);\n                --pink-dark-2: rgba(31, 4, 23, 1);\n                --pink-dark-3: rgba(56, 4, 42, 1);\n                --pink-dark-4: rgba(82, 4, 60, 1);\n                --pink-dark-5: rgba(107, 4, 78, 1);\n                --pink-dark-6: rgba(133, 4, 96, 1);\n                --pink-dark-7: rgba(158, 4, 115, 1);\n                --pink-dark-8: rgba(184, 4, 133, 1);\n                --pink--: rgba(209, 4, 151, 1);\n                --pink-light-1: rgba(250, 245, 248, 1);\n                --pink-light-2: rgba(245, 215, 236, 1);\n                --pink-light-3: rgba(240, 185, 224, 1);\n                --pink-light-4: rgba(235, 155, 212, 1);\n                --pink-light-5: rgba(230, 125, 200, 1);\n                --pink-light-6: rgba(224, 94, 187, 1);\n                --pink-light-7: rgba(219, 64, 175, 1);\n                --pink-light-8: rgba(214, 34, 163, 1);\n                --red-dark-1: rgba(5, 0, 0, 1);\n                --red-dark-2: rgba(31, 1, 5, 1);\n                --red-dark-3: rgba(56, 1, 10, 1);\n                --red-dark-4: rgba(82, 2, 14, 1);\n                --red-dark-5: rgba(107, 2, 19, 1);\n                --red-dark-6: rgba(133, 3, 24, 1);\n                --red-dark-7: rgba(158, 3, 29, 1);\n                --red-dark-8: rgba(184, 4, 33, 1);\n                --red--: rgba(217, 4, 40, 1);\n                --red-light-1: rgba(250, 245, 246, 1);\n                --red-light-2: rgba(246, 215, 220, 1);\n                --red-light-3: rgba(242, 185, 195, 1);\n                --red-light-4: rgba(238, 155, 169, 1);\n                --red-light-5: rgba(234, 125, 143, 1);\n                --red-light-6: rgba(229, 94, 117, 1);\n                --red-light-7: rgba(225, 64, 92, 1);\n                --red-light-8: rgba(221, 34, 66, 1);\n                --orange-dark-1: rgba(5, 5, 4, 1);\n                --orange-dark-2: rgba(31, 11, 4, 1);\n                --orange-dark-3: rgba(56, 18, 4, 1);\n                --orange-dark-4: rgba(82, 24, 4, 1);\n                --orange-dark-5: rgba(107, 30, 4, 1);\n                --orange-dark-6: rgba(133, 36, 4, 1);\n                --orange-dark-7: rgba(158, 43, 4, 1);\n                --orange-dark-8: rgba(184, 49, 4, 1);\n                --orange--: rgba(209, 55, 4, 1);\n                --orange-light-1: rgba(250, 246, 245, 1);\n                --orange-light-2: rgba(245, 222, 215, 1);\n                --orange-light-3: rgba(240, 198, 185, 1);\n                --orange-light-4: rgba(235, 174, 155, 1);\n                --orange-light-5: rgba(230, 151, 125, 1);\n                --orange-light-6: rgba(224, 127, 94, 1);\n                --orange-light-7: rgba(219, 103, 64, 1);\n                --orange-light-8: rgba(214, 79, 34, 1);\n                --yellow-dark-1: rgba(5, 5, 4, 1);\n                --yellow-dark-2: rgba(31, 25, 4, 1);\n                --yellow-dark-3: rgba(56, 44, 4, 1);\n                --yellow-dark-4: rgba(82, 64, 4, 1);\n                --yellow-dark-5: rgba(107, 83, 4, 1);\n                --yellow-dark-6: rgba(133, 103, 4, 1);\n                --yellow-dark-7: rgba(158, 122, 4, 1);\n                --yellow-dark-8: rgba(184, 142, 4, 1);\n                --yellow--: rgba(209, 161, 4, 1);\n                --yellow-light-1: rgba(250, 250, 245, 1);\n                --yellow-light-2: rgba(245, 239, 215, 1);\n                --yellow-light-3: rgba(240, 228, 185, 1);\n                --yellow-light-4: rgba(235, 217, 155, 1);\n                --yellow-light-5: rgba(230, 206, 125, 1);\n                --yellow-light-6: rgba(224, 194, 94, 1);\n                --yellow-light-7: rgba(219, 183, 64, 1);\n                --yellow-light-8: rgba(214, 172, 34, 1);\n                --pumpkin-dark-1: rgba(5, 3, 0, 1);\n                --pumpkin-dark-2: rgba(36, 21, 1, 1);\n                --pumpkin-dark-3: rgba(66, 39, 1, 1);\n                --pumpkin-dark-4: rgba(97, 57, 2, 1);\n                --pumpkin-dark-5: rgba(128, 76, 3, 1);\n                --pumpkin-dark-6: rgba(158, 94, 3, 1);\n                --pumpkin-dark-7: rgba(189, 112, 4, 1);\n                --pumpkin-dark-8: rgba(219, 130, 4, 1);\n                --pumpkin--: rgba(250, 148, 5, 1);\n                --pumpkin-light-1: rgba(250, 248, 245, 1);\n                --pumpkin-light-2: rgba(250, 236, 215, 1);\n                --pumpkin-light-3: rgba(250, 223, 185, 1);\n                --pumpkin-light-4: rgba(250, 211, 155, 1);\n                --pumpkin-light-5: rgba(250, 198, 125, 1);\n                --pumpkin-light-6: rgba(250, 186, 95, 1);\n                --pumpkin-light-7: rgba(250, 173, 65, 1);\n                --pumpkin-light-8: rgba(250, 161, 35, 1);\n                --size-display3: 84px;\n                --size-sm: 12px;\n                --size-xs: 10px;\n                --size-display2: 98px;\n                --size-display4: 70px;\n                --size-h3: 35px;\n                --size-h6: 14px;\n                --size-h1: 56px;\n                --size-display1: 112px;\n                --size-h5: 21px;\n                --size-h2: 42px;\n                --size-h4: 28px;\n                --size-p: 1em;\n                --border-none: 0px;\n                --border-small: 1px;\n                --border-medium: 2px;\n                --border-large: 4px;\n                --radii-none: 0px;\n                --radii-small: 0.5px;\n                --radii-medium: 1px;\n                --radii-large: 2px;\n                --radii-full: 9999px;\n                --spacing-none: 0px;\n                --spacing-2x-small: 1px;\n                --spacing-x-small: 2px;\n                --spacing-small: 4px;\n                --spacing-medium: 8px;\n                --spacing-large: 10px;\n                --spacing-x-large: 12px;\n                --spacing-2x-large: 16px;\n                --font-family: "ProFontWindows", monospace;\n            }\n\n            @font-face {\n                font-family: ProFontWindows;\n                src: url("/assets/ProFontWindows.ttf");\n            }\n\n            @font-face {\n                font-family: Tomorrow;\n                src: url("/assets/Tomorrow-Medium.ttf");\n            }\n\n            /* Default Light Theme */\n            /* Themes - Kepler Light */\n            :root {\n                --base-background: var(--neutral-white);\n                --base-text--: var(--neutral-9);\n                --base-text-emphasize: var(--neutral-8);\n                --base-text-light: var(--neutral-7);\n                --base-text-subtle: var(--neutral-6);\n                --base-surface: var(--neutral-1);\n                --base-hover: var(--neutral-2);\n                --base-focus: var(--neutral-3);\n                --base-border: var(--neutral-2);\n                --primary--: var(--blue--);\n                --primary-hover: var(--blue-light-8);\n                --primary-active: var(--blue-light-7);\n                --primary-background--: var(--blue-light-1);\n                --primary-background-hover: var(--blue-light-2);\n                --primary-background-active: var(--blue-light-3);\n                --primary-background-border: var(--blue-light-4);\n                --secondary--: var(--neutral-9);\n                --secondary-background--: var(--neutral-1);\n                --secondary-hover: var(--neutral-8);\n                --secondary-active: var(--neutral-7);\n                --secondary-background-hover: var(--neutral-2);\n                --secondary-background-active: var(--neutral-3);\n                --secondary-background-border: var(--neutral-6);\n                --error--: var(--red--);\n                --error-hover: var(--red-light-8);\n                --error-active: var(--red-light-7);\n                --error-background--: var(--red-light-1);\n                --error-background-hover: var(--red-light-2);\n                --error-background-active: var(--red-light-3);\n                --error-background-border: var(--red-light-4);\n                --warning--: var(--yellow--);\n                --warning-hover: var(--yellow-light-8);\n                --warning-active: var(--yellow-light-7);\n                --warning-background--: var(--yellow-light-1);\n                --warning-background-hover: var(--yellow-light-2);\n                --warning-background-active: var(--yellow-light-3);\n                --warning-background-border: var(--yellow-light-4);\n                --success--: var(--green--);\n                --success-hover: var(--green-light-8);\n                --success-active: var(--green-light-7);\n                --success-background--: var(--green-light-1);\n                --success-background-hover: var(--green-light-2);\n                --success-background-active: var(--green-light-3);\n                --success-background-border: var(--green-light-4);\n            }\n\n            ::slotted(*) {\n                color: var(--base-text--, rgba(29, 29, 29, 1));\n            }\n\n  \n            :host {\n                display: block;\n                background: var(--base-background);\n            }\n\n            html,\n            body {\n                margin: 0;\n                padding: 0;\n                color: var(--base-text--, #333);\n            }\n\n            h1,\n            h2,\n            h3,\n            h4,\n            h5,\n            h6,\n            label,\n            button {\n                font-family: "ProFontWindows", sans-serif;\n            }\n\n            p,\n            a,\n            span,\n            small,\n            strong {\n                font-family: "Tomorrow", sans-serif;\n            }\n\n            .display-1 {\n                color: var(--base-text--, rgba(29, 29, 29, 1));\n                font-size: var(--size-display1);\n            }\n\n            .display-2 {\n                color: var(--primary--, rgba(4, 134, 209, 1));\n                font-size: var(--size-display2);\n                text-transform: uppercase;\n            }\n\n            .display-3 {\n                color: var(--base-text-light);\n                font-size: var(--size-display3);\n            }\n\n            .display-4 {\n                color: var(--base-text-subtle);\n                font-size: var(--size-display4);\n                text-transform: uppercase;\n            }\n\n            h1 {\n                color: var(--base-text--, rgba(29, 29, 29, 1));\n                font-size: var(--size-h1);\n            }\n\n            h2 {\n                color: var(--primary--, rgba(4, 134, 209, 1));\n                font-size: var(--size-h2);\n                text-transform: uppercase;\n            }\n\n            h3 {\n                color: var(--base-text-light);\n                font-size: var(--size-h3);\n            }\n\n            h4 {\n                color: var(--base-text-subtle);\n                font-size: var(--size-h4);\n                text-transform: uppercase;\n            }\n\n            h5 {\n                color: var(--base-text--, rgba(29, 29, 29, 1));\n                font-size: var(--size-h5);\n            }\n\n            h6 {\n                color: var(--primary--, rgba(4, 134, 209, 1));\n                font-size: var(--size-h6);\n            }\n\n            p {\n                color: var(--base-text--, rgba(29, 29, 29, 1));\n                font-size: var(--size-p);\n            }\n\n            small {\n                color: var(--base-text-emphasize);\n                font-size: var(--size-small);\n            }\n        </style>\n      ',t=this.getAttribute("theme-path");if(t){const n=new URL(t,document.baseURI).href;fetch(n).then((e=>{if(!e.ok)throw new Error(`Failed to fetch CSS from ${n}`);return e.text()})).then((t=>{const n=`\n                    ${e}\n                    <style>\n                        ${t}\n                    </style>\n                `;this.shadowRoot.innerHTML=`${n}<slot></slot>`,this.applyVariablesToHost(e+t)})).catch((t=>{console.error("Error loading theme:",t),this.shadowRoot.innerHTML=`${e}<slot></slot>`,this.applyVariablesToHost(e)}))}else this.shadowRoot.innerHTML=`${e}<slot></slot>`,this.applyVariablesToHost(e)}fetchCSS(e){return fetch(e).then((t=>{if(!t.ok)throw new Error(`Failed to fetch CSS from ${e}`);return t.text()}))}applyVariablesToHost(e){const t=/--([\w-]+):\s*([^;]+);/g;let n;for(;null!==(n=t.exec(e));)this.style.setProperty(`--${n[1]}`,n[2].trim())}}customElements.get("kp-theme")||customElements.define("kp-theme",e);class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.button=document.createElement("button"),this.button.classList.add("button"),this.button.setAttribute("role","button"),this.button.setAttribute("tabindex","0"),this.button.setAttribute("part","button"),this.shadowRoot.appendChild(this.button),this.applyStyles(),this.render(),this.proxyNativeOnClick(),this.addEventListeners()}connectedCallback(){this.hasAttribute("size")||this.setAttribute("size","medium"),this.applyStyles(),this.render(),this.proxyNativeOnClick(),this.addEventListeners()}static get observedAttributes(){return["left-icon","right-icon","color","size","style-type","type","disabled","name","value","autofocus","form","formaction","formenctype","formmethod","formnovalidate","formtarget","aria-label","aria-pressed","aria-hidden"]}attributeChangedCallback(e,t,n){if(t!==n){["type","style-type","name","value","disabled","autofocus","form","formaction","formenctype","formmethod","formnovalidate","formtarget","aria-label","aria-pressed","aria-hidden"].includes(e)&&(null===n?this.button.removeAttribute(e):this.button.setAttribute(e,n)),this.render(),["color","size","style-type","disabled"].includes(e)&&this.updateStyles()}}updateButtonAttributes(){["type","name","value","disabled","autofocus","form","formaction","formenctype","formmethod","formnovalidate","formtarget","aria-label","aria-pressed","aria-hidden"].forEach((e=>{this.hasAttribute(e)?this.button.setAttribute(e,this.getAttribute(e)):this.button.removeAttribute(e)}))}render(){this.updateButtonAttributes(),this.hasAttribute("disabled")?(this.button.setAttribute("disabled",""),this.button.setAttribute("aria-disabled","true")):(this.button.removeAttribute("disabled"),this.button.setAttribute("aria-disabled","false")),this.button.innerHTML='\n        <span class="button-content" part="button-content">\n          <span class="icon left-icon" part="left-icon"><slot name="left-icon"></slot></span>\n          <span class="label" part="label"><slot></slot></span>\n          <span class="icon right-icon" part="right-icon"><slot name="right-icon"></slot></span>\n        </span>\n      ',this.manageSlotVisibility("left-icon",".left-icon"),this.manageSlotVisibility("right-icon",".right-icon"),this.manageSlotVisibility("",".label")}proxyNativeOnClick(){try{Object.defineProperty(this,"onclick",{get:()=>this.button.onclick,set:e=>{this.button.onclick=e},configurable:!0,enumerable:!0})}catch(e){console.warn("Could not redefine onclick:",e)}}manageSlotVisibility(e,t){const n=e?this.shadowRoot.querySelector(`slot[name="${e}"]`):this.shadowRoot.querySelector("slot:not([name])"),r=this.shadowRoot.querySelector(t),a=()=>{const e=n.assignedNodes().length>0;r.style.display=e?"inline-flex":"none"};a(),n.addEventListener("slotchange",a)}addEventListeners(){this.button.addEventListener("focus",(()=>{this.dispatchEvent(new CustomEvent("focus",{bubbles:!0,composed:!0}))})),this.button.addEventListener("blur",(()=>{this.dispatchEvent(new CustomEvent("blur",{bubbles:!0,composed:!0}))})),this.button.addEventListener("keydown",(e=>{this.dispatchEvent(new CustomEvent("keydown",{detail:{key:e.key,code:e.code},bubbles:!0,composed:!0}))})),this.button.addEventListener("keyup",(e=>{this.dispatchEvent(new CustomEvent("keyup",{detail:{key:e.key,code:e.code},bubbles:!0,composed:!0}))})),this.button.addEventListener("click",(e=>{if(this.handleClick(),"submit"===this.getAttribute("type")){const t=this.closest("form");t&&(e.preventDefault(),t.requestSubmit())}}))}handleClick(){if(this.hasAttribute("disabled"))return;const e=this.getAttribute("data-event");if(!e)return;const t={};Array.from(this.attributes).filter((e=>e.name.startsWith("data-detail-"))).forEach((e=>{const n=e.name.replace("data-detail-","");t[n]=e.value})),this.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))}applyStyles(){const e=document.createElement("style");e.textContent="\n        :host {\n          display: inline-block;\n        }\n        .button {\n          box-sizing: border-box;\n          display: inline-flex;\n          min-height: var(--button-min-height, 40px);\n          min-width: var(--button-min-width, 40px);\n          padding: var(--button-padding, 2px);\n          justify-content: center;\n          align-items: center;\n          position: relative;\n          overflow: hidden;\n          border-radius: var(--border-small, 1px);\n          border: var(--border-medium, 2px) solid var(--border-color, #1D1D1D);\n          background: var(--background-color, #F1F6FA);\n          color: var(--text-color, #1D1D1D);\n          font-family: Tomorrow, sans-serif;\n          font-size: var(--font-size, 16px);\n          font-weight: 500;\n          text-transform: uppercase;\n          line-height: 1.2;\n          transition: background-color 0.1s, color 0.1s, border-color 0.1s;\n          cursor: pointer;\n          width: 100%;\n        }\n        .button:disabled {\n          pointer-events: none;\n          opacity: 0.6;\n        }\n        .button::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 200%;\n          height: 200%;\n          background: repeating-linear-gradient(\n            -45deg,\n            var(--text-color, #1D1D1D) 0,\n            var(--text-color, #1D1D1D) 2px,\n            transparent 3px,\n            transparent 10px\n          );\n          opacity: 0;\n          z-index: 0;\n          transition: opacity 0.2s ease;\n        }\n        .button:disabled::before {\n          opacity: 1;\n        }\n        .button:hover:not(:disabled),\n        .button:hover:not(:disabled) .button-content {\n          background: var(--hover-background-color);\n          color: var(--hover-text-color);\n        }\n        .button:focus:not(:disabled),\n        .button:focus:not(:disabled) .button-content {\n          background: var(--focus-background-color);\n          color: var(--focus-text-color);\n        }\n        .button:active:not(:disabled),\n        .button:active:not(:disabled) .button-content {\n          background: var(--active-background-color);\n          color: var(--active-text-color);\n        }\n        .button-content {\n          display: inline-flex;\n          flex-direction: row;\n          align-items: center;\n          gap: var(--gap, 8px);\n          padding: var(--content-padding, 2px) var(--button-padding, 4px);\n          position: relative;\n          z-index: 1;\n          background: var(--background-color);\n          color: var(--text-color);\n          font-family: Tomorrow, sans-serif;\n          font-size: var(--font-size, 16px);\n          font-weight: 500;\n          line-height: 1.2;\n          text-transform: uppercase;\n          transition: color 0.1s, background-color 0.1s;\n        }\n        .icon {\n          display: flex;\n          min-width: 16px;\n          justify-content: center;\n        }\n        .label, .icon {\n          padding-bottom: var(--spacing-x-small, 4px);\n        }\n      ",this.shadowRoot.appendChild(e)}updateStyles(){const e=this.getAttribute("color")||"base",t=this.getAttribute("size")||"medium",n=this.getAttribute("style-type")||"outlined",r={primary:["--primary--","--primary-hover","--primary-active","--primary-background--","--primary-background-hover","--primary-background-active"],secondary:["--secondary--","--secondary-hover","--secondary-active","--secondary-background--","--secondary-background-hover","--secondary-background-active"],base:["--base-text--","--base-text-emphasize","--base-text-light","--base-surface","--base-hover","--base-focus"],success:["--success--","--success-hover","--success-active","--success-background--","--success-background-hover","--success-background-active"],error:["--error--","--error-hover","--error-active","--error-background--","--error-background-hover","--error-background-active"],warning:["--warning--","--warning-hover","--warning-active","--warning-background--","--warning-background-hover","--warning-background-active"]},a={small:["--spacing-2x-small","--spacing-x-small"],medium:["--spacing-x-small","--spacing-small"],large:["--spacing-small","--spacing-medium"]},i={outlined:{"--background-color":`var(${r[e][3]}, rgba(241,246,250,1))`,"--border-color":`var(${r[e][0]}, rgba(29,29,29,1))`,"--text-color":`var(${r[e][0]}, rgba(29,29,29,1))`},filled:{"--background-color":`var(${r[e][0]}, rgba(29,29,29,1))`,"--border-color":`var(${r[e][0]}, rgba(29,29,29,1))`,"--text-color":`var(${r[e][3]}, rgba(241,246,250,1))`},flat:{"--background-color":`var(${r[e][3]},rgba(241,246,250,1))`,"--border-color":"none","--text-color":`var(${r[e][0]},rgba(29,29,29,1))`}},s=i[n]||i.outlined;Object.entries(s).forEach((([e,t])=>{this.button.style.setProperty(e,t)})),this.button.style.setProperty("--hover-background-color",`var(${r[e][4]}, rgba(215,219,222,1))`),this.button.style.setProperty("--hover-text-color",`var(${r[e][0]}, rgba(29,29,29,1))`),this.button.style.setProperty("--focus-background-color",`var(${r[e][5]}, rgba(188,192,195,1))`),this.button.style.setProperty("--focus-text-color",`var(${r[e][0]}, rgba(29,29,29,1))`),this.button.style.setProperty("--active-background-color",`var(${r[e][0]}, rgba(29,29,29,1))`),this.button.style.setProperty("--active-text-color",`var(${r[e][3]}, rgba(241,246,250,1))`);const[o,l]=a[t]||a.medium;this.button.style.setProperty("--content-padding",`var(${o}, 4px)`),this.button.style.setProperty("--button-padding",`var(${l}, 2px)`),this.button.style.setProperty("--gap",`var(${l}, 16px)`);const d={small:"32px",medium:"40px",large:"52px"};this.button.style.setProperty("--button-min-height",d[t]||"40px"),this.button.style.setProperty("--button-min-width",d[t]||"40px")}get value(){return this.hasAttribute("multiple")?Array.from(this.selectedValues).join(","):this.selectedValues.size?Array.from(this.selectedValues)[0]:""}set value(e){this.hasAttribute("multiple")?"string"==typeof e?this.selectedValues=new Set(e.split(",").map((e=>e.trim()))):Array.isArray(e)&&(this.selectedValues=new Set(e)):this.selectedValues="string"==typeof e?new Set([e.trim()]):new Set,this.updateComponent()}setOptions(e){this.setAttribute("options",JSON.stringify(e))}setValue(e){this.setAttribute("value",e)}}customElements.get("kp-button")||customElements.define("kp-button",t);class n extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n            <style>\n                :host {\n                    display: inline-block;\n                    width: 100%;\n                }\n                .label-wrapper {\n                    display: flex;\n                    box-sizing: border-box;\n                    align-items: center;\n                    font-family: ProFontWindows, sans-serif;\n                    font-size: 21px;\n                    line-height: 24px;\n                    font-weight: 500;\n                    color: var(--base-surface, rgba(241,246,250,1));\n                    background: var(--base-text--, rgba(29,29,29,1));\n                    padding: var(--spacing-medium, 8px);\n                    border-radius: var(--border-small, 1px);\n                    gap: var(--spacing-small, 8px);\n                    transition: background-color 0.2s ease, color 0.2s ease;\n                    min-height: 40px;\n                    min-width: 40px;\n                }\n                :host([label-position="top"]) .label-wrapper,\n                :host([label-position="bottom"]) .label-wrapper {\n                    width: 100%;\n                    justify-content: flex-start;\n                    background-color: var(--base-surface, rgba(241,246,250,1));\n                    color: var(--base-text--, rgba(29,29,29,1));\n                    padding: 0;\n                }\n                :host([label-position="top"]) .input-container,\n                :host([label-position="bottom"]) .input-container {\n                    gap: 0;\n                }\n                .label-wrapper.selected {\n                    background-color: var(--primary--, rgba(4,134,209,1));\n                    color: var(--primary-background--, rgba(245,250,250,1));\n                }\n                .label-icon {\n                    display: flex;\n                    align-items: center;\n                }\n                .input-container {\n                    display: flex;\n                    flex-direction: column;\n                    gap: var(--spacing-small, 8px);\n                }\n                :host([label-position="left"]) .input-container {\n                    flex-direction: row;\n                    align-items: center;\n                }\n                :host([label-position="right"]) .input-container {\n                    flex-direction: row-reverse;\n                    align-items: center;\n                }\n                :host([label-position="top"]) .input-container {\n                    flex-direction: column;\n                    align-items: stretch;\n                }\n                :host([label-position="bottom"]) .input-container {\n                    flex-direction: column-reverse;\n                    align-items: stretch;\n                }\n                .input-wrapper {\n                    box-sizing: border-box;\n                    display: flex;\n                    flex: 1 0 auto;\n                    align-items: center;\n                    padding: var(--spacing-medium, 8px);\n                    padding-bottom: calc(var(--spacing-medium, 8px) - 1px);\n                    border: var(--border-medium, 2px) solid var(--base-text--, rgba(29,29,29,1));\n                    border-radius: var(--border-small, 1px);\n                    background: var(--base-surface, rgba(241,246,250,1));\n                    color: var(--base-text--, rgba(29,29,29,1));\n                    font-family: Tomorrow, sans-serif;\n                    font-size: var(--font-size, 16px);\n                    transition: border-color 0.2s ease, background-color 0.2s ease;\n                }\n                .input-wrapper:focus-within {\n                    border-color: var(--primary--, rgba(4,134,209,1));\n                    background: var(--base-hover, rgba(215,219,222,1));\n                }\n                input {\n                    flex: 1;\n                    border: none;\n                    outline: none;\n                    background: transparent;\n                    color: inherit;\n                    font-family: inherit;\n                    font-size: inherit;\n                }\n                input::placeholder {\n                    color: var(--base-text-subtle, rgba(109,110,112,1));\n                }\n                .icon {\n                    display: flex;\n                    align-items: center;\n                }\n                .hidden {\n                    display: none;\n                }\n                \n                :host([invalid]) .input-wrapper {\n                    border-color: var(--error--, rgba(217,4,40,1));\n                    color: var(--error--, rgba(217,4,40,1));\n                    background: var(--error-background--, rgba(250,245,246,1));\n                }\n                :host([invalid]) .input-wrapper:hover {\n                    background: var(--error-background-hover, rgba(246,215,220,1));\n                }\n                :host([invalid]) .input-wrapper:active,\n                :host([invalid]) .input-wrapper:focus-within {\n                    background: var(--error-background-active, rgba(242,185,195,1));\n                }\n                :host([invalid][label-position="top"]) .label-wrapper,\n                :host([invalid][label-position="bottom"]) .label-wrapper {\n                    color: var(--error--, rgba(217,4,40,1));\n                }\n                :host([invalid][label-position="left"]) .label-wrapper,\n                :host([invalid][label-position="right"]) .label-wrapper {\n                    background-color: var(--error--, rgba(217,4,40,1));\n                }\n            </style>\n            <div class="input-container" part="input-container">\n                <div class="label-wrapper" part="label-wrapper">\n                    <span class="label-icon left-label-icon"><slot name="left-label-icon"></slot></span>\n                    <span class="label-text"></span>\n                    <span class="label-icon right-label-icon"><slot name="right-label-icon"></slot></span>\n                </div>\n                <div class="input-wrapper" part="input-wrapper">\n                    <span class="icon left-icon"><slot name="left-icon"></slot></span>\n                    <input type="text" />\n                    <span class="icon right-icon"><slot name="right-icon"></slot></span>\n                </div>\n            </div>\n        ',this.inputElement=this.shadowRoot.querySelector("input"),this.labelTextElement=this.shadowRoot.querySelector(".label-text"),this.labelWrapper=this.shadowRoot.querySelector(".label-wrapper"),this.manageSlotVisibility("left-label-icon",".left-label-icon"),this.manageSlotVisibility("right-label-icon",".right-label-icon"),this.manageSlotVisibility("left-icon",".left-icon"),this.manageSlotVisibility("right-icon",".right-icon"),this.addEventListeners()}static get observedAttributes(){return["type","placeholder","disabled","value","name","autocomplete","maxlength","minlength","readonly","required","pattern","aria-label","aria-hidden","label","label-position","invalid"]}attributeChangedCallback(e,t,n){t!==n&&("label"===e||"label-position"===e?this.updateLabel():this.syncAttributesToInput(e,n))}connectedCallback(){this.syncAttributes(),this.hiddenInput||(this.hiddenInput=document.createElement("input"),this.hiddenInput.type="hidden",this.hiddenInput.name=this.getAttribute("name")||"",this.hiddenInput.value=this.inputElement.value,this.appendChild(this.hiddenInput)),this.updateHiddenInput()}syncAttributes(){n.observedAttributes.forEach((e=>{this.hasAttribute(e)&&this.syncAttributesToInput(e,this.getAttribute(e))})),this.updateLabel()}syncAttributesToInput(e,t){"invalid"!==e&&(null===t?this.inputElement.removeAttribute(e):this.inputElement.setAttribute(e,t))}updateLabel(){const e=this.getAttribute("label")||"",t=this.getAttribute("label-position")||"top";this.labelTextElement.textContent=e,this.setAttribute("label-position",t),this.labelWrapper.style.display=e?"flex":"none"}manageSlotVisibility(e,t){const n=this.shadowRoot.querySelector(`slot[name="${e}"]`),r=this.shadowRoot.querySelector(t),a=()=>{const e=n&&n.assignedNodes().length>0;r.classList.toggle("hidden",!e)};n&&(n.addEventListener("slotchange",a),a())}updateHiddenInput(){this.hiddenInput&&(this.hiddenInput.name=this.getAttribute("name")||"",this.hiddenInput.value=this.inputElement.value)}addEventListeners(){this.inputElement.addEventListener("focus",(()=>{this.labelWrapper.classList.add("selected")})),this.inputElement.addEventListener("blur",(()=>{this.labelWrapper.classList.remove("selected")})),this.inputElement.addEventListener("input",(()=>{this.hiddenInput.value=this.inputElement.value,this.dispatchEvent(new CustomEvent("input",{detail:{value:this.inputElement.value},bubbles:!0,composed:!0}))})),this.inputElement.addEventListener("change",(()=>{this.setAttribute("value",this.inputElement.value),this.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))}))}get value(){return this.inputElement.value}set value(e){this.setAttribute("value",e)}get invalid(){return this.hasAttribute("invalid")}set invalid(e){e?this.setAttribute("invalid",""):this.removeAttribute("invalid")}}customElements.get("kp-input")||customElements.define("kp-input",n);class r extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.render(),this.setupRefs(),this.addEventListeners(),this.selectedValues=new Set}static get observedAttributes(){return["label","label-position","options","multiple","selection-mode","value","required","invalid","placeholder"]}attributeChangedCallback(e,t,n){t!==n&&("value"===e?this.value=n:(["label","label-position","options","multiple","selection-mode"].includes(e)||["required","invalid","placeholder"].includes(e))&&this.updateComponent())}connectedCallback(){this.hasAttribute("invalid")&&!this.hasAttribute("data-manual-invalid")&&this.setAttribute("data-manual-invalid","true"),this.updateComponent(),this.manageDefaultIconVisibility(),this.hiddenInput||(this.hiddenInput=document.createElement("input"),this.hiddenInput.type="hidden",this.hiddenInput.name=this.getAttribute("name")||"",this.appendChild(this.hiddenInput)),this.updateHiddenInput()}render(){this.shadowRoot.innerHTML='\n        <style>\n          :host {\n            display: inline-block;\n            width: 100%;\n            position: relative;\n          }\n          .label-wrapper {\n            display: flex;\n            flex: 1 0 auto;\n            box-sizing: border-box;\n            align-items: center;\n            font-family: ProFontWindows, sans-serif;\n            font-size: 21px;\n            line-height: 24px;\n            font-weight: 500;\n            color: var(--base-surface, rgba(241,246,250,1));\n            background: var(--base-text--, rgba(29,29,29,1));\n            padding: var(--spacing-medium, 8px);\n            border-radius: var(--border-small, 1px);\n            gap: var(--spacing-small, 8px);\n            transition: background-color 0.2s ease, color 0.2s ease;\n          }\n          .label-wrapper.selected {\n            background-color: var(--primary--, rgba(4,134,209,1));\n            color: var(--primary-background--, rgba(245,250,250,1));\n          }\n          .label-icon {\n            display: flex;\n            align-items: center;\n          }\n          .select-container {\n            display: flex;\n            flex-direction: column;\n            gap: var(--spacing-small, 8px);\n          }\n          :host([label-position="left"]) .select-container {\n            flex-direction: row;\n            align-items: center;\n          }\n          :host([label-position="right"]) .select-container {\n            flex-direction: row-reverse;\n            align-items: center;\n          }\n          :host([label-position="top"]) .select-container {\n            flex-direction: column;\n            align-items: flex-start;\n          }\n          :host([label-position="bottom"]) .select-container {\n            flex-direction: column-reverse;\n            align-items: flex-start;\n          }\n          :host([label-position="top"]) .label-wrapper,\n          :host([label-position="bottom"]) .label-wrapper {\n            background: var(--base-surface, rgba(241,246,250,1));\n            color: var(--base-text--, rgba(29,29,29,1));\n            padding: 0;\n          }\n          :host([label-position="top"]) .select-container,\n          :host([label-position="bottom"]) .select-container {\n            gap: 0;\n          }\n          .select-wrapper {\n            position: relative;\n            box-sizing: border-box;\n            display: flex;\n            align-items: center;\n            padding: var(--spacing-medium, 8px);\n            border: var(--border-medium, 2px) solid var(--base-text--, rgba(29,29,29,1));\n            border-radius: var(--border-small, 1px);\n            background: var(--base-surface, rgba(241,246,250,1));\n            color: var(--base-text--, rgba(29,29,29,1));\n            font-family: Tomorrow, sans-serif;\n            font-size: var(--font-size, 16px);\n            transition: border-color 0.2s ease, background-color 0.2s ease;\n            width: 100%;\n          }\n          .icon.right-icon {\n            margin-left: auto;\n            display: flex;\n            align-items: center;\n          }\n          .select-wrapper:focus-within {\n            border-color: var(--primary--, rgba(4,134,209,1));\n            background: var(--base-hover, rgba(215,219,222,1));\n          }\n          /* Invalid state styles */\n          :host([invalid]) .select-wrapper {\n              border-color: var(--error--, rgba(217,4,40,1));\n              background: var(--error-background--, #ffe6e6);\n          }\n          :host([invalid]) .select-wrapper:hover {\n              background: var(--error-background-hover, #ffdcdc);\n          }\n          :host([invalid]) .select-wrapper:active,\n          :host([invalid]) .select-wrapper:focus-within {\n              background: var(--error-background-active, #ffc0c0);\n          }\n          :host([invalid][label-position="top"]) .label-wrapper,\n          :host([invalid][label-position="bottom"]) .label-wrapper {\n              color: var(--error--, rgba(217,4,40,1));\n          }\n          :host([invalid][label-position="left"]) .label-wrapper,\n          :host([invalid][label-position="right"]) .label-wrapper {\n              background-color: var(--error--, rgba(217,4,40,1));\n          }\n          .dropdown {\n            display: none;\n            position: absolute;\n            top: calc(100% + var(--spacing-x-small, 4px));\n            left: 0;\n            width: 100%;\n            box-sizing: border-box;\n            background: var(--base-text--, rgba(29,29,29,1));\n            z-index: 10;\n            max-height: 200px;\n            overflow-y: auto;\n            box-shadow: var(--shadow-medium, 0 4px 8px rgba(0,0,0,0.2));\n          }\n          .dropdown.open {\n            display: block;\n          }\n          .dropdown-item {\n            padding: var(--spacing-medium, 8px);\n            font-size: var(--font-size, 16px);\n            font-family: Tomorrow, sans-serif;\n            color: var(--base-surface, rgba(241,246,250,1));\n            background: var(--base-text--, rgba(29,29,29,1));\n            cursor: pointer;\n            transition: background-color 0.2s ease, color 0.2s ease;\n          }\n          .dropdown-item:hover {\n            background: var(--base-text-emphasize, rgba(56,56,57,1));\n          }\n          .dropdown-item.selected {\n            background: var(--primary--, rgba(4,134,209,1));\n            color: var(--primary-background--, rgba(245,250,250,1));\n          }\n          .hidden {\n            display: none;\n          }\n          .default-icon {\n            margin-left: auto;\n            display: inline-block;\n            width: 20px;\n            height: 20px;\n          }\n          .default-icon svg {\n            width: 100%;\n            height: 100%;\n            stroke: var(--base-text--, rgba(29,29,29,1));\n            fill: none;\n            transition: transform 0.2s ease;\n          }\n          .select-wrapper.open .default-icon svg {\n            transform: rotate(180deg);\n          }\n          .selected-value {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 4px;\n            max-width: 100%;\n            overflow: hidden;\n            align-items: center;\n          }\n          .tag {\n            display: inline-flex;\n            align-items: center;\n            background: var(--base-text--, #007bff);\n            color: var(--base-surface, rgba(241,246,250,1));\n            padding: 1px 4px;\n            border-radius: 4px;\n            font-size: 14px;\n          }\n          .tag .remove {\n            margin-left: 8px;\n            cursor: pointer;\n            color: var(--primary-background--, rgba(245,250,250,1));\n            font-size: 12px;\n          }\n        </style>\n        <div class="select-container" part="select-container">\n          <div class="label-wrapper" part="label-wrapper">\n            <span class="label-icon left-label-icon"><slot name="left-label-icon"></slot></span>\n            <span class="label-text"></span>\n            <span class="label-icon right-label-icon"><slot name="right-label-icon"></slot></span>\n          </div>\n          <div class="select-wrapper" part="select-wrapper" tabindex="0" role="combobox" aria-haspopup="listbox" aria-expanded="false">\n            <span class="icon left-icon"><slot name="left-icon"></slot></span>\n            <span class="selected-value" aria-live="polite"></span>\n            <span class="icon right-icon">\n              <slot name="right-icon"></slot>\n              <span class="default-icon">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20">\n                  <path d="M5 7 L10 12 L15 7" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" />\n                </svg>\n              </span>\n            </span>\n            <div class="dropdown" part="dropdown" role="listbox"></div>\n          </div>\n        </div>\n      '}setupRefs(){this.dropdown=this.shadowRoot.querySelector(".dropdown"),this.selectWrapper=this.shadowRoot.querySelector(".select-wrapper"),this.labelTextElement=this.shadowRoot.querySelector(".label-text"),this.labelWrapper=this.shadowRoot.querySelector(".label-wrapper"),this.selectedValueElement=this.shadowRoot.querySelector(".selected-value"),this.rightIconSlot=this.shadowRoot.querySelector('slot[name="right-icon"]'),this.defaultIcon=this.shadowRoot.querySelector(".default-icon"),this.leftLabelIcon=this.shadowRoot.querySelector(".label-icon.left-label-icon"),this.rightLabelIcon=this.shadowRoot.querySelector(".label-icon.right-label-icon"),this.manageSlotVisibility("left-label-icon",this.leftLabelIcon),this.manageSlotVisibility("right-label-icon",this.rightLabelIcon)}updateSelectedDisplay(e,t){if(e){const e=(this._options||JSON.parse(this.getAttribute("options")||"[]")).filter((e=>this.selectedValues.has(e.value)));"combined"===t?this.selectedValueElement.textContent=`${e.length} Items Selected`:this.selectedValueElement.innerHTML=e.map((e=>`\n                  <span class="tag">\n                      ${e.label}\n                      <span class="remove" data-value="${e.value}">âœ•</span>\n                  </span>`)).join("")}else{const e=(this._options||JSON.parse(this.getAttribute("options")||"[]")).find((e=>e.selected)),t=this.getAttribute("placeholder")||"Select an option";this.selectedValueElement.textContent=e?e.label:t}}updateComponent(){const e=this.getAttribute("label")||"",t=this.getAttribute("label-position")||"top";let n=JSON.parse(this.getAttribute("options")||"[]");const r=this.hasAttribute("multiple"),a=this.getAttribute("selection-mode")||"combined";if(this.hasAttribute("value")){const e=this.getAttribute("value"),t=r?e.split(",").map((e=>e.trim())):[e.trim()];n=n.map((e=>({...e,selected:t.includes(e.value)}))),r&&(this.selectedValues=new Set(t))}this._options=n,this.labelTextElement.textContent=e,this.setAttribute("label-position",t),this.dropdown.innerHTML=n.map((e=>`\n              <div class="dropdown-item ${e.selected?"selected":""}" data-value="${e.value}" role="option" aria-selected="${e.selected?"true":"false"}">\n                  ${e.label}\n              </div>`)).join(""),r&&(this.selectedValues.size||(this.selectedValues=new Set(n.filter((e=>e.selected)).map((e=>e.value))))),this.updateSelectedDisplay(r,a),this.updateHiddenInput(),this.updateValidation()}manageDefaultIconVisibility(){const e=this.rightIconSlot.assignedNodes().length>0||this.rightIconSlot.innerHTML.trim().length>0;this.defaultIcon.style.display=e?"none":"inline-block"}manageSlotVisibility(e,t){const n=this.shadowRoot.querySelector(`slot[name="${e}"]`),r=()=>{const e=n.assignedNodes().length>0;t.classList.toggle("hidden",!e)};r(),n.addEventListener("slotchange",r)}addEventListeners(){this.selectWrapper.addEventListener("focus",(()=>{this.labelWrapper.classList.add("selected")})),this.selectWrapper.addEventListener("blur",(()=>{this.labelWrapper.classList.remove("selected"),this.updateValidation()})),this.selectWrapper.addEventListener("click",(e=>{if(e.target.closest(".remove"))return void e.stopPropagation();const t=this.dropdown.classList.toggle("open");this.selectWrapper.classList.toggle("open",t),this.selectWrapper.setAttribute("aria-expanded",t.toString())})),this.dropdown.addEventListener("click",(e=>{e.stopPropagation();const t=e.target.closest(".dropdown-item");if(t){const e=t.getAttribute("data-value"),n=this.hasAttribute("multiple"),r=this.getAttribute("selection-mode")||"combined";n?(this.selectedValues.has(e)?(this.selectedValues.delete(e),t.classList.remove("selected")):(this.selectedValues.add(e),t.classList.add("selected")),this.updateSelectedDisplay(n,r)):(this.shadowRoot.querySelectorAll(".dropdown-item").forEach((e=>e.classList.remove("selected"))),t.classList.add("selected"),this.selectedValueElement.textContent=t.textContent,this.closeDropdown()),this.updateHiddenInput(),this.updateValidation(),this.dispatchEvent(new CustomEvent("change",{detail:{value:n?Array.from(this.selectedValues):e},bubbles:!0,composed:!0}))}})),document.addEventListener("click",(e=>{e.composedPath().includes(this)||this.closeDropdown()})),this.selectedValueElement.addEventListener("click",(e=>{const t=e.target.closest(".remove");if(t){e.stopPropagation();const n=t.getAttribute("data-value");this.selectedValues.delete(n);const r=this.shadowRoot.querySelector(`.dropdown-item[data-value="${n}"]`);r&&r.classList.remove("selected"),this.updateSelectedDisplay(!0,this.getAttribute("selection-mode")||"combined"),this.updateHiddenInput(),this.updateValidation(),this.dispatchEvent(new CustomEvent("change",{detail:{value:Array.from(this.selectedValues)},bubbles:!0,composed:!0}))}}))}closeDropdown(){this.dropdown.classList.remove("open"),this.selectWrapper.classList.remove("open"),this.selectWrapper.setAttribute("aria-expanded","false"),this.manageDefaultIconVisibility()}updateHiddenInput(){if(this.hiddenInput)if(this.hiddenInput.name=this.getAttribute("name")||"",this.hasAttribute("multiple"))this.hiddenInput.value=Array.from(this.selectedValues).join(",");else{const e=this.shadowRoot.querySelector(".dropdown-item.selected");this.hiddenInput.value=e?e.getAttribute("data-value"):""}}updateValidation(){if(this.hasAttribute("required")){if(this.hasAttribute("multiple"))0===this.selectedValues.size?this.setAttribute("invalid",""):this.removeAttribute("invalid");else{const e=this.value;e&&"Select an option"!==e?this.removeAttribute("invalid"):this.setAttribute("invalid","")}}else this.removeAttribute("invalid")}get value(){if(this.hasAttribute("multiple"))return Array.from(this.selectedValues).join(",");{const e=this.shadowRoot.querySelector(".dropdown-item.selected");return e?e.getAttribute("data-value"):""}}set value(e){const t=this.hasAttribute("multiple");if("string"==typeof e)if(t){const t=e.split(",").map((e=>e.trim()));this.selectedValues=new Set(t)}else this.selectedValues=new Set([e.trim()]);else Array.isArray(e)&&(this.selectedValues=new Set(e));this.updateComponent(),this.updateSelectedDisplay(t,this.getAttribute("selection-mode")||"combined"),this.updateHiddenInput(),this.updateValidation()}setOptions(e){this.setAttribute("options",JSON.stringify(e))}setValue(e){this.setAttribute("value",e)}get invalid(){return this.hasAttribute("invalid")}set invalid(e){e?(this.setAttribute("data-manual-invalid","true"),this.setAttribute("invalid","")):(this.removeAttribute("data-manual-invalid"),this.removeAttribute("invalid"))}}customElements.get("kp-select")||customElements.define("kp-select",r);class a extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.render(),this.setupRefs(),this.addEventListeners()}static get observedAttributes(){return["checked","label","label-position","disabled","name","value","required","invalid"]}attributeChangedCallback(e,t,n){t!==n&&this.updateComponent()}connectedCallback(){this.hasAttribute("invalid")&&!this.hasAttribute("data-manual-invalid")&&this.setAttribute("data-manual-invalid","true"),this.updateComponent(),this.inputElement||(this.inputElement=document.createElement("input"),this.inputElement.type="checkbox",Object.assign(this.inputElement.style,{position:"absolute",opacity:"0",pointerEvents:"none",width:"0",height:"0"}),this.inputElement.name=this.getAttribute("name")||"",this.inputElement.value=this.getAttribute("value")||"on",this.inputElement.checked=this.hasAttribute("checked"),this.appendChild(this.inputElement)),this.updateHiddenInput()}render(){this.shadowRoot.innerHTML='\n        <style>\n          :host {\n            display: inline-block;\n            position: relative;\n          }\n          .checkbox-container {\n            display: flex;\n            flex-direction: row;\n            align-items: center;\n            gap: var(--spacing-small, 4px);\n          }\n          :host([label-position="left"]) .checkbox-container {\n            flex-direction: row-reverse;\n          }\n          :host([label-position="top"]) .checkbox-container {\n            flex-direction: column-reverse;\n            align-items: flex-start;\n          }\n          :host([label-position="bottom"]) .checkbox-container {\n            flex-direction: column;\n            align-items: flex-start;\n          }\n          :host([label-position="top"]) .label-wrapper,\n          :host([label-position="bottom"]) .label-wrapper {\n            width: 100%;\n            justify-content: flex-start;\n            background-color: var(--base-surface, var(--neutral-1, rgba(241,246,250,1)));\n            color: var(--base-text--, var(--neutral-9, rgba(29,29,29,1)));\n            padding: 0;\n          }\n          .checkbox-wrapper {\n            display: flex;\n            flex: 1 0 auto;\n            padding: var(--spacing-medium, 8px);\n          }\n          :host([label-position="top"]) .checkbox-wrapper,\n          :host([label-position="bottom"]) .checkbox-wrapper {\n            padding-left: 0;\n            padding-right: 0;\n          }\n          .checkbox {\n            width: 20px;\n            height: 20px;\n            display: inline-block;\n            border: var(--border-medium, 2px) solid var(--base-text--, var(--neutral-9, rgba(29,29,29,1)));\n            border-radius: var(--border-small, 1px);\n            background: var(--base-surface, var(--neutral-1, rgba(241,246,250,1)));\n            position: relative;\n            cursor: pointer;\n            flex-shrink: 0;\n            transition: background-color 0.2s ease, border-color 0.2s ease;\n          }\n          .checkbox.checked {\n            background: var(--primary--, var(--blue--, rgba(4,134,209,1)));\n            border-color: var(--primary--, var(--blue--, rgba(4,134,209,1)));\n          }\n          .checkbox.checked::after {\n            content: "";\n            width: 6px;\n            height: 12px;\n            border: solid var(--primary-background--, var(--blue-light-1, rgba(245,250,250,1)));\n            border-radius: 2px;\n            border-width: 0 2px 2px 0;\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-100%, -100%) rotate(45deg);\n            transform-origin: bottom left;\n          }\n          .checkbox.disabled {\n            cursor: not-allowed;\n            opacity: 0.5;\n          }\n          .label-wrapper {\n            box-sizing: border-box;\n            font-family: ProFontWindows, sans-serif;\n            font-size: 21px;\n            line-height: 24px;\n            font-weight: 500;\n            padding: var(--spacing-medium, 8px);\n            color: var(--base-surface, var(--neutral-1, rgba(241,246,250,1)));\n            background: var(--base-text--, var(--neutral-9, rgba(29,29,29,1)));\n            transition: color 0.2s ease, background-color 0.2s ease;\n            cursor: pointer;\n          }\n          .label-wrapper.disabled {\n            cursor: not-allowed;\n            opacity: 0.5;\n          }\n          /* Invalid state styles with fallback values */\n          :host([invalid]) .checkbox {\n              border-color: var(--error--, var(--red--, rgba(217,4,40,1)));\n              background: var(--error-background--, var(--red-light-1, rgba(250,245,246,1)));\n          }\n          :host([invalid]) .checkbox:hover {\n              background: var(--error-background-hover, var(--red-light-2, rgba(246,215,220,1)));\n          }\n          :host([invalid]) .checkbox:active,\n          :host([invalid]) .checkbox:focus {\n              background: var(--error-background-active, var(--red-light-3, rgba(242,185,195,1)));\n          }\n          :host([invalid][label-position="top"]) .label-wrapper,\n          :host([invalid][label-position="bottom"]) .label-wrapper {\n              color: var(--error--, var(--red--, rgba(217,4,40,1)));\n          }\n          :host([invalid][label-position="left"]) .label-wrapper,\n          :host([invalid][label-position="right"]) .label-wrapper {\n              background-color: var(--error--, var(--red--, rgba(217,4,40,1)));\n          }\n        </style>\n        <div class="checkbox-container" part="checkbox-container">\n            <div class="checkbox-wrapper" part="checkbox-wrapper">\n                <div class="checkbox" part="checkbox"></div>\n            </div>\n            <div class="label-wrapper" part="label-wrapper"></div>\n        </div>\n      '}setupRefs(){this.checkboxElement=this.shadowRoot.querySelector(".checkbox"),this.labelWrapperElement=this.shadowRoot.querySelector(".label-wrapper")}updateComponent(){const e=this.getAttribute("label")||"",t=this.hasAttribute("checked"),n=this.hasAttribute("disabled"),r=this.getAttribute("label-position")||"left";this.setAttribute("label-position",r),this.labelWrapperElement.textContent=e,this.labelWrapperElement.style.display=e?"block":"none",this.checkboxElement.classList.toggle("checked",t),this.labelWrapperElement.classList.toggle("checked",t),this.checkboxElement.classList.toggle("disabled",n),this.labelWrapperElement.classList.toggle("disabled",n),this.updateHiddenInput(),this.hasAttribute("data-manual-invalid")||(this.hasAttribute("required")&&!t?this.setAttribute("invalid",""):this.removeAttribute("invalid"))}updateHiddenInput(){this.inputElement&&(this.inputElement.name=this.getAttribute("name")||"",this.inputElement.value=this.getAttribute("value")||"on",this.inputElement.checked=this.hasAttribute("checked"))}addEventListeners(){this.checkboxElement.addEventListener("click",(e=>{if(this.hasAttribute("disabled"))return;const t=this.hasAttribute("checked");t?this.removeAttribute("checked"):this.setAttribute("checked",""),this.updateHiddenInput(),this.updateComponent(),this.dispatchEvent(new CustomEvent("change",{detail:{checked:!t},bubbles:!0,composed:!0}))}))}get invalid(){return this.hasAttribute("invalid")}set invalid(e){e?(this.setAttribute("data-manual-invalid","true"),this.setAttribute("invalid","")):(this.removeAttribute("data-manual-invalid"),this.removeAttribute("invalid"))}}customElements.get("kp-checkbox")||customElements.define("kp-checkbox",a);class i extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.render(),this.setupRefs(),this.addEventListeners()}static get observedAttributes(){return["options","name","selected-value","disabled","label-position"]}attributeChangedCallback(e,t,n){t!==n&&(this.updateComponent(),this.updateHiddenInput())}connectedCallback(){this.updateComponent(),this.hiddenInput||(this.hiddenInput=document.createElement("input"),this.hiddenInput.type="hidden",this.hiddenInput.name=this.getAttribute("name")||`radio-${Date.now()}`,this.hiddenInput.value=this.getAttribute("selected-value")||"",this.appendChild(this.hiddenInput)),this.updateHiddenInput()}render(){this.shadowRoot.innerHTML='\n            <style>\n                :host {\n                    display: inline-block;\n                    position: relative;\n                }\n\n                .radio-group {\n                    display: flex;\n                    flex-direction: column;\n                    gap: var(--spacing-small, 8px);\n                    width: 100%;\n                }\n\n                .radio-container {\n                    display: flex;\n                    align-items: center;\n                    justify-content: flex-start;\n                    gap: var(--spacing-small, 8px);\n                    width: 100%;\n                }\n\n                .radio-wrapper {\n                    display: flex;\n                    justify-content: flex-start;\n                    padding: var(--spacing-medium, 16px);\n                    align-items: center;\n                    flex-grow: 1;\n                }\n\n                :host([label-position="top"]) .radio-container,\n                :host([label-position="bottom"]) .radio-container {\n                    gap: 0;\n                }\n\n                :host([label-position="left"]) .radio-container {\n                    flex-direction: row-reverse;\n                }\n\n                :host([label-position="top"]) .radio-container {\n                    flex-direction: column-reverse;\n                    align-items: flex-start;\n                }\n\n                :host([label-position="bottom"]) .radio-container {\n                    flex-direction: column;\n                    align-items: flex-start;\n                }\n\n                :host([label-position="top"]) .label,\n                :host([label-position="bottom"]) .label {\n                    width: 100%;\n                    justify-content: flex-start;\n                    background-color: var(--base-surface, rgba(241,246,250,1));\n                    color: var(--base-text--, rgba(29,29,29,1));\n                    padding: 0;\n                }\n\n                .radio {\n                    width: 20px;\n                    height: 20px;\n                    border: var(--border-medium, 2px) solid var(--base-text--, rgba(29,29,29,1));\n                    border-radius: 50%;\n                    background: var(--base-surface, rgba(241,246,250,1));\n                    position: relative;\n                    cursor: pointer;\n                }\n\n                .radio.checked {\n                    border-color: var(--primary--, rgba(4,134,209,1));\n                    background: var(--primary--, rgba(4,134,209,1));\n                }\n\n                .radio.checked::after {\n                    content: "";\n                    width: 10px;\n                    height: 10px;\n                    background: var(--primary-background--, rgba(245,250,250,1));\n                    border-radius: 50%;\n                    position: absolute;\n                    top: 50%;\n                    left: 50%;\n                    transform: translate(-50%, -50%);\n                }\n\n                .radio.disabled {\n                    cursor: not-allowed;\n                    opacity: 0.5;\n                }\n\n                .label {\n                    box-sizing: border-box;\n                    font-family: ProFontWindows, sans-serif;\n                    font-size: 21px;\n                    line-height: 24px;\n                    font-weight: 500;\n                    color: var(--base-surface, rgba(241,246,250,1));\n                    background: var(--base-text--, #333);\n                    padding: var(--spacing-medium, 16px);\n                    cursor: pointer;\n                }\n\n                .label.disabled {\n                    cursor: not-allowed;\n                    opacity: 0.5;\n                }\n            </style>\n            <div class="radio-group"></div>\n        '}setupRefs(){this.radioGroup=this.shadowRoot.querySelector(".radio-group")}updateComponent(){const e=JSON.parse(this.getAttribute("options")||"[]"),t=this.getAttribute("name")||`radio-${Date.now()}`,n=this.getAttribute("selected-value")||"",r=this.hasAttribute("disabled"),a=this.getAttribute("label-position")||"right";this.setAttribute("label-position",a),this.radioGroup.innerHTML=e.map((e=>`\n                <div class="radio-container">\n                    <div class="radio-wrapper">\n                        <div\n                            class="radio ${e.value===n?"checked":""} ${r?"disabled":""}"\n                            data-value="${e.value}"\n                            part="radio"\n                        ></div>\n                    </div>\n                    <div class="label ${r?"disabled":""}" part="label">${e.label}</div>\n                </div>\n            `)).join(""),this.radioGroup.querySelectorAll(".radio").forEach((e=>{e.setAttribute("name",t)}))}updateHiddenInput(){this.hiddenInput&&(this.hiddenInput.name=this.getAttribute("name")||"",this.hiddenInput.value=this.getAttribute("selected-value")||"")}addEventListeners(){this.radioGroup.addEventListener("click",(e=>{const t=e.target.closest(".radio");if(!t||this.hasAttribute("disabled"))return;const n=t.getAttribute("data-value");this.setAttribute("selected-value",n),this.dispatchEvent(new CustomEvent("change",{detail:{value:n},bubbles:!0,composed:!0})),this.updateComponent(),this.updateHiddenInput()}))}}customElements.get("kp-radio")||customElements.define("kp-radio",i);class s extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.render()}render(){this.shadowRoot.innerHTML='\n        <style>\n          :host {\n            display: block;\n            width: 100%;\n            /* Use the custom property for height with a fallback */\n            height: var(--spacing-2x-large, 40px);\n          }\n          .break {\n            width: 100%;\n            height: 100%;\n            background: repeating-linear-gradient(\n              -45deg,\n              var(--base-border, #ccc) 0,\n              var(--base-border, #ccc) 2px,\n              transparent 3px,\n              transparent 10px\n            );\n          }\n        </style>\n        <div class="break" part="break"></div>\n      '}}customElements.get("kp-break")||customElements.define("kp-break",s);class o extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.render(),this.setupRefs(),this.addEventListeners()}static get observedAttributes(){return["min","max","step","disabled","value","name","label","label-position","aria-label","aria-hidden"]}attributeChangedCallback(e,t,n){t!==n&&("label"===e||"label-position"===e?this.updateLabel():this.syncAttributesToInput(e,n),this.updateHiddenInput(),this.updateSliderBackground())}connectedCallback(){this.syncAttributes(),this.hiddenInput||(this.hiddenInput=document.createElement("input"),this.hiddenInput.type="hidden",this.hiddenInput.name=this.getAttribute("name")||"",this.hiddenInput.value=this.inputElement.value,this.appendChild(this.hiddenInput)),this.updateHiddenInput(),this.updateSliderBackground()}render(){this.shadowRoot.innerHTML='\n            <style>\n                :host {\n                    display: inline-block;\n                    width: 100%;\n                }\n                .label-wrapper {\n                    display: flex;\n                    box-sizing: border-box;\n                    align-items: center;\n                    font-family: ProFontWindows, sans-serif;\n                    font-size: 21px;\n                    line-height: 24px;\n                    font-weight: 500;\n                    color: var(--base-surface, rgba(241,246,250,1));\n                    background: var(--base-text--, rgba(29,29,29,1));\n                    padding: var(--spacing-medium, 8px);\n                    border-radius: var(--border-small, 1px);\n                    gap: var(--spacing-small, 8px);\n                    transition: background-color 0.2s ease, color 0.2s ease;\n                }\n                :host([label-position="top"]) .label-wrapper,\n                :host([label-position="bottom"]) .label-wrapper {\n                    width: 100%;\n                    justify-content: flex-start;\n                    background-color: var(--base-surface, rgba(241,246,250,1));\n                    color: var(--base-text--, rgba(29,29,29,1));\n                    padding: 0;\n                }\n                .label-wrapper.selected {\n                    background-color: var(--primary--, rgba(4,134,209,1));\n                    color: var(--primary-background--, rgba(245,250,250,1));\n                }\n                .label-icon {\n                    display: flex;\n                    align-items: center;\n                }\n                .input-container {\n                    display: flex;\n                    flex-direction: column;\n                    gap: var(--spacing-small, 8px);\n                }\n                :host([label-position="left"]) .input-container {\n                    flex-direction: row;\n                    align-items: stretch;\n                }\n                :host([label-position="right"]) .input-container {\n                    flex-direction: row-reverse;\n                    align-items: stretch;\n                }\n                :host([label-position="top"]) .input-container {\n                    flex-direction: column;\n                    align-items: stretch;\n                }\n                :host([label-position="bottom"]) .input-container {\n                    flex-direction: column-reverse;\n                    align-items: stretch;\n                }\n                :host([label-position="top"]) .input-container,\n                :host([label-position="bottom"]) .input-container {\n                    gap: 0;\n                }\n                .input-wrapper {\n                    box-sizing: border-box;\n                    display: flex;\n                    flex: 1 0 auto;\n                    align-items: center;\n                    padding: var(--spacing-2x-small, 2px);\n                    border: var(--border-medium, 2px) solid var(--base-text--, rgba(29,29,29,1));\n                    border-radius: var(--border-small, 1px);\n                    background: var(--base-surface, rgba(241,246,250,1));\n                    color: var(--base-text--, rgba(29,29,29,1));\n                    font-family: Tomorrow, sans-serif;\n                    font-size: var(--font-size, 16px);\n                    transition: border-color 0.2s ease, background-color 0.2s ease;\n                    min-height: 40px;\n                }\n                .input-wrapper:focus-within {\n                    border-color: var(--primary--, rgba(4,134,209,1));\n                    background: var(--base-hover, rgba(215,219,222,1));\n                }\n                input[type="range"] {\n                    flex: 1;\n                    border: none;\n                    outline: none;\n                    background: transparent;\n                    -webkit-appearance: none;\n                }\n                /* Slider Track */\n                input[type="range"]::-webkit-slider-runnable-track {\n                    height: 30px;\n                    background: linear-gradient(\n                        to right,\n                        var(--primary--, rgba(4,134,209,1)) 0%,\n                        var(--primary--, rgba(4,134,209,1)) var(--slider-percentage, 50%),\n                        var(--base-surface, rgba(241,246,250,1)) var(--slider-percentage, 50%),\n                        var(--base-surface, rgba(241,246,250,1)) 100%\n                    );\n                }\n                input[type="range"]::-moz-range-track {\n                    height: 30px;\n                    background: linear-gradient(\n                        to right,\n                        var(--primary--, rgba(4,134,209,1)) 0%,\n                        var(--primary--, rgba(4,134,209,1)) var(--slider-percentage, 50%),\n                        var(--base-surface, rgba(241,246,250,1)) var(--slider-percentage, 50%),\n                        var(--base-surface, rgba(241,246,250,1)) 100%\n                    );\n                }\n                /* Slider Thumb (Square Grabber) */\n                input[type="range"]::-webkit-slider-thumb {\n                    -webkit-appearance: none;\n                    appearance: none;\n                    width: var(--spacing-medium, 8px);\n                    height: 26px;\n                    background: var(--base-text--, rgba(29,29,29,1));\n                    border: 2px solid var(--base-text--, rgba(29,29,29,1));\n                    border-radius: 0;\n                    cursor: pointer;\n                    margin-top: -8px;\n                }\n                input[type="range"]::-moz-range-thumb {\n                    width: var(--spacing-medium, 8px);\n                    height: 26px;\n                    background: var(--base-text--, rgba(29,29,29,1));\n                    border: 2px solid var(--base-text--, rgba(29,29,29,1));\n                    border-radius: 0;\n                    cursor: pointer;\n                }\n                .icon {\n                    display: flex;\n                    align-items: center;\n                }\n                .hidden {\n                    display: none;\n                }\n            </style>\n            <div class="input-container" part="input-container">\n                <div class="label-wrapper" part="label">\n                    <span class="label-icon left-label-icon"><slot name="left-label-icon"></slot></span>\n                    <span class="label-text"></span>\n                    <span class="label-icon right-label-icon"><slot name="right-label-icon"></slot></span>\n                </div>\n                <div class="input-wrapper" part="input">\n                    <span class="icon left-icon"><slot name="left-icon"></slot></span>\n                    <input type="range" />\n                    <span class="icon right-icon"><slot name="right-icon"></slot></span>\n                </div>\n            </div>\n        '}setupRefs(){this.inputElement=this.shadowRoot.querySelector("input[type='range']"),this.labelTextElement=this.shadowRoot.querySelector(".label-text"),this.labelWrapper=this.shadowRoot.querySelector(".label-wrapper"),this.manageSlotVisibility("left-label-icon",".left-label-icon"),this.manageSlotVisibility("right-label-icon",".right-label-icon"),this.manageSlotVisibility("left-icon",".left-icon"),this.manageSlotVisibility("right-icon",".right-icon")}static get inputAttributes(){return["min","max","step","disabled","value","name","autocomplete","maxlength","minlength","readonly","required","pattern","aria-label","aria-hidden"]}syncAttributes(){o.inputAttributes.forEach((e=>{this.hasAttribute(e)&&this.syncAttributesToInput(e,this.getAttribute(e))})),this.updateLabel()}syncAttributesToInput(e,t){null===t?this.inputElement.removeAttribute(e):this.inputElement.setAttribute(e,t)}updateLabel(){const e=this.getAttribute("label")||"",t=this.getAttribute("label-position")||"top";this.labelTextElement.textContent=e,this.setAttribute("label-position",t)}manageSlotVisibility(e,t){const n=this.shadowRoot.querySelector(`slot[name="${e}"]`),r=this.shadowRoot.querySelector(t),a=()=>{const e=n.assignedNodes().length>0;r.classList.toggle("hidden",!e)};n&&(n.addEventListener("slotchange",a),a())}updateHiddenInput(){this.hiddenInput&&(this.hiddenInput.name=this.getAttribute("name")||"",this.hiddenInput.value=this.inputElement.value)}updateSliderBackground(){const e=parseFloat(this.inputElement.getAttribute("min"))||0,t=parseFloat(this.inputElement.getAttribute("max"))||100,n=((parseFloat(this.inputElement.value)||0)-e)/(t-e)*100;this.inputElement.style.setProperty("--slider-percentage",n+"%")}addEventListeners(){this.inputElement.addEventListener("focus",(()=>{this.labelWrapper.classList.add("selected")})),this.inputElement.addEventListener("blur",(()=>{this.labelWrapper.classList.remove("selected")})),this.inputElement.addEventListener("input",(()=>{this.updateHiddenInput(),this.updateSliderBackground(),this.dispatchEvent(new CustomEvent("input",{detail:{value:this.inputElement.value},bubbles:!0,composed:!0}))})),this.inputElement.addEventListener("change",(()=>{this.setAttribute("value",this.inputElement.value),this.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))}))}get value(){return this.inputElement.value}set value(e){this.setAttribute("value",e)}}customElements.get("kp-slider")||customElements.define("kp-slider",o);class l extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.render()}static get observedAttributes(){return["basic","color"]}attributeChangedCallback(e,t,n){t!==n&&this.render()}get basic(){return this.hasAttribute("basic")}set basic(e){e?this.setAttribute("basic",""):this.removeAttribute("basic")}get color(){return this.getAttribute("color")||"base"}set color(e){this.setAttribute("color",e)}checkSlot(e){const t=this.shadowRoot.querySelector(`slot[name="${e}"]`);if(t){const n=t.assignedNodes({flatten:!0}).filter((e=>e.nodeType!==Node.TEXT_NODE||""!==e.textContent.trim())),r=this.shadowRoot.querySelector(`.${e}`);r&&(r.style.display=0===n.length?"none":"")}}render(){const e=this.color,t={base:"var(--base-border--, var(--base-border, rgba(215,219,222,1)))",primary:"var(--primary-background-border, var(--primary--, rgba(4,134,209,1)))",secondary:"var(--secondary-background-border, var(--neutral-9, rgba(29,29,29,1)))",success:"var(--success-background-border, var(--success--, rgba(45,186,115,1)))",warning:"var(--warning-background-border, var(--yellow--, rgba(209,161,4,1)))",error:"var(--error-background-border, var(--error--, rgba(217,4,40,1)))"},n={base:"var(--base-surface, rgba(241,246,250,1))",primary:"var(--primary-background--, var(--blue-light-1, rgba(245,250,250,1)))",secondary:"var(--secondary-background--, var(--neutral-1, rgba(241,246,250,1)))",success:"var(--success-background--, var(--green-light-1, rgba(213,242,227,1)))",warning:"var(--warning-background--, var(--yellow-light-1, rgba(250,250,245,1)))",error:"var(--error-background--, var(--red-light-1, rgba(250,245,246,1)))"},r=t[e]||t.base,a=n[e]||n.base,i=!this.basic;this.shadowRoot.innerHTML=`\n        <style>\n          :host {\n            display: flex;\n            flex-direction: column;\n            border: var(--border-medium, 2px) solid ${r};\n          }\n          .header,\n          .footer {\n            background: ${r};\n            padding: var(--spacing-x-large, 12px);\n          }\n          .header {\n            border-bottom: var(--border-medium, 2px) solid ${r};\n          }\n          .footer {\n            border-top: var(--border-medium, 2px) solid ${r};\n          }\n          .content {\n            position: relative;\n            padding: 26px 16px 26px 16px;\n            flex: 1;\n            background: ${a};\n          }\n          ${i?`\n          .content::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 10px;\n            background: repeating-linear-gradient(\n              -45deg,\n              ${r} 0,\n              ${r} 2px,\n              transparent 3px,\n              transparent 10px\n            );\n          }\n          .content::after {\n            content: '';\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            height: 10px;\n            background: repeating-linear-gradient(\n              -45deg,\n              ${r} 0,\n              ${r} 2px,\n              transparent 3px,\n              transparent 10px\n            );\n          }\n          `:""}\n        </style>\n        <div class="header" part="header">\n          <slot name="header"></slot>\n        </div>\n        <div class="content" part="content">\n          <slot></slot>\n        </div>\n        <div class="footer" part="footer">\n          <slot name="footer"></slot>\n        </div>\n      `}connectedCallback(){const e=this.shadowRoot.querySelector('slot[name="header"]'),t=this.shadowRoot.querySelector('slot[name="footer"]');e&&(e.addEventListener("slotchange",(()=>this.checkSlot("header"))),this.checkSlot("header")),t&&(t.addEventListener("slotchange",(()=>this.checkSlot("footer"))),this.checkSlot("footer"))}}customElements.get("kp-card")||customElements.define("kp-card",l);class d extends HTMLElement{static get observedAttributes(){return["data","columns"]}constructor(){super(),this.attachShadow({mode:"open"}),this.data=[],this.columns=[],this.sortState=null}connectedCallback(){this.render()}attributeChangedCallback(e,t,n){if(t!==n){if("data"===e)try{this.data=JSON.parse(n)}catch(e){console.error("Invalid JSON for data:",n),this.data=[]}else if("columns"===e)try{this.columns=JSON.parse(n)}catch(e){console.error("Invalid JSON for columns:",n),this.columns=[]}this.render()}}get gridColumns(){return this.columns}set gridColumns(e){this.columns=e,this.render()}get gridData(){return this.data}set gridData(e){this.data=e,this.render()}attachSortListeners(){this.shadowRoot.querySelectorAll('th[data-sortable="true"]').forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-property");this.handleSort(t)}))}))}getColumnWidth(e){if(void 0!==e.width){if("number"==typeof e.width)return e.width+"px";if("string"==typeof e.width)return/^\d+$/.test(e.width)?e.width+"px":e.width}return""}getSortedData(){const e=[...this.data];if(this.sortState&&this.sortState.property){const{property:t,direction:n}=this.sortState;e.sort(((e,r)=>{const a=e[t],i=r[t];return"number"==typeof a&&"number"==typeof i?"asc"===n?a-i:i-a:"asc"===n?String(a).localeCompare(String(i)):String(i).localeCompare(String(a))}))}return e}handleSort(e){this.sortState&&this.sortState.property===e?"asc"===this.sortState.direction?this.sortState.direction="desc":"desc"===this.sortState.direction&&(this.sortState=null):this.sortState={property:e,direction:"asc"},this.render()}render(){const e=`\n        <table part="table">\n          <thead>${this.renderHeader()}</thead>\n          <tbody>${this.renderBody()}</tbody>\n        </table>\n      `;this.shadowRoot.innerHTML=`\n        <style>\n          table {\n            width: 100%;\n            border-collapse: separate;\n            border-spacing: var(--spacing-small, 4px);\n          }\n          thead th {\n            font-family: ProFontWindows, sans-serif;\n            font-size: 20px;\n            font-weight: 500;\n            border-bottom: var(--border-medium, 2px) solid var(--base-text--, rgba(29,29,29,1));\n            padding: var(--spacing-medium, 8px) 0;\n          }\n          tbody td {\n            font-family: Tomorrow, sans-serif;\n            border-bottom: var(--border-small, 1px) solid var(--base-text--, rgba(29,29,29,1));\n            padding: var(--spacing-medium, 8px) 0;\n          }\n          tbody th {\n            font-family: ProFontWindows, sans-serif;\n            background: var(--base-text--, rgba(29,29,29,1));\n            font-size: 20px;\n            font-weight: 500;\n            color: var(--base-surface, rgba(241,246,250,1));\n            padding: var(--spacing-medium, 8px);\n          }\n          th, td {\n            text-align: left;\n          }\n          .sort-icon {\n            width: 16px;\n            display: inline-flex;\n            align-items: center;\n          }\n        </style>\n        ${e}\n      `,this.attachSortListeners()}renderBody(){let e="";return this.getSortedData().forEach((t=>{let n="<tr>";this.columns.forEach((e=>{const r=void 0!==t[e.property]?t[e.property]:"",a=e.isRowHeader?"th":"td";if(e.template){const i=this._renderTemplate(e.template,t);n+=`<${a}>${null!==i?i:r}</${a}>`}else n+=`<${a}>${r}</${a}>`})),n+="</tr>",e+=n})),e}renderHeader(){let e="<tr>";return this.columns.forEach((t=>{const n=this.getColumnWidth(t),r=n?` style="width: ${n};"`:"",a=!1!==t.sortable;let i="";if(t.headerTemplate){const e=this._renderHeaderTemplate(t);i=null!==e?e:t.header||t.property}else{let e="";a&&this.sortState&&this.sortState.property===t.property&&("asc"===this.sortState.direction?e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16" style="transform: rotate(180deg);">\n                            <path d="M5 7 L10 12 L15 7" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" />\n                        </svg>':"desc"===this.sortState.direction&&(e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">\n                            <path d="M5 7 L10 12 L15 7" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" />\n                        </svg>'));const n=`<span class="sort-icon" style="margin-left:4px; display:inline-flex; align-items:center; width:16px;">${e}</span>`;i=a?`<span class="header-text" style="cursor:pointer; display:inline-flex; align-items:center;">${t.header||t.property}${n}</span>`:t.header||t.property}e+=`<th data-property="${t.property}" ${a?'data-sortable="true"':""}${r}>${i}</th>`})),e+="</tr>",e}_cloneTemplate(e){const t=this.querySelector(`[slot="${e}"]`);return t&&t.content?document.importNode(t.content,!0):null}_renderHeaderTemplate(e){const t=this._cloneTemplate(e.headerTemplate);if(!t)return null;const n=t.querySelector("[data-header-text]");n&&(n.textContent=e.header||e.property);const r=t.querySelector("[data-sort-icon]");if(!1!==e.sortable&&r&&this.sortState&&this.sortState.property===e.property){let e="";"asc"===this.sortState.direction?e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">\n            <path d="M5 7 L10 12 L15 7" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" />\n          </svg>':"desc"===this.sortState.direction&&(e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16" style="transform: rotate(180deg);">\n            <path d="M5 7 L10 12 L15 7" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" />\n          </svg>'),r.innerHTML=e}const a=document.createElement("div");return a.appendChild(t),a.innerHTML}_renderTemplate(e,t){const n=this._cloneTemplate(e);if(!n)return null;Object.keys(t).forEach((e=>{const r=n.querySelector(`[data-cell-${e}]`);r&&(r.textContent=t[e])}));const r=document.createElement("div");return r.appendChild(n),r.innerHTML}}customElements.get("kp-grid")||customElements.define("kp-grid",d);class c extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.render()}static get observedAttributes(){return["src","alt","size","shape"]}attributeChangedCallback(e,t,n){t!==n&&this.render()}render(){const e=this.getAttribute("src"),t=this.getAttribute("alt")||"AN",n=t.trim().split(/\s+/),r=n.lengh>=2?n[0].charAt(0)+n[1].charAt(0):t.substring(0,2),a="circle"===(this.getAttribute("shape")||"circle")?"50%":"0";let i;switch(this.getAttribute("size")||"medium"){case"small":i="30px";break;case"large":i="70px";break;default:i="50px"}this.shadowRoot.innerHTML=e?`\n          <style>\n            :host {\n              display: inline-block;\n              width: ${i};\n              height: ${i};\n              min-width: ${i};\n            }\n            img {\n              width: 100%;\n              height: 100%;\n              object-fit: cover;\n              border-radius: ${a};\n            }\n          </style>\n          <img src="${e}" alt="${t}" part="avatar" />\n        `:`\n          <style>\n            :host {\n              display: inline-block;\n              width: ${i};\n              height: ${i};\n              min-width: ${i};\n              font-family: ProFontWindows, monospace;\n              text-transform: uppercase;\n            }\n            .avatar {\n              width: 100%;\n              height: 100%;\n              border-radius: ${a};\n              background-color: var(--primary--, rgba(4, 134, 209, 1));\n              color: var(--primary-background--, rgba(245, 250, 250, 1));\n              display: flex;\n              align-items: center;\n              justify-content: center;\n            }\n            .avatar h5 {\n                margin: 0;\n                font-size: calc(${i} * 0.75);\n                margin-left: 3px;\n            }\n          </style>\n          <div class="avatar" part="avatar"><h5>${r}</h5></div>\n        `}}customElements.get("kp-avatar")||customElements.define("kp-avatar",c);class h extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.render(),this.attachEvents(),this.updateVisibility()}static get observedAttributes(){return["title","closable","visible","cover","anchor"]}getContainer(e,t){const n=t?"querySelectorAll":"querySelector";return window.__routerShadowRoot?window.__routerShadowRoot[n](e):document[n](e)}attributeChangedCallback(e,t,n){t!==n&&("title"!==e&&"closable"!==e&&"cover"!==e||this.render(),"visible"===e&&this.updateVisibility(),"anchor"===e&&this.setupAnchor())}connectedCallback(){this.setupAnchor();const e=this.getAttribute("anchor");if(e){const t=this.getContainer(e);t&&(this.anchorObserver=new MutationObserver((()=>{this.setupAnchor()})),this.anchorObserver.observe(t,{attributes:!0,childList:!0,subtree:!0}))}}disconnectedCallback(){document.removeEventListener("keydown",this._keydownHandler),this._anchor&&this._openHandler&&this._anchor.removeEventListener("click",this._openHandler),this.anchorObserver&&this.anchorObserver.disconnect()}get visible(){return"true"===this.getAttribute("visible")}set visible(e){this.setAttribute("visible",e?"true":"false")}updateVisibility(){"true"===this.getAttribute("visible")?this.classList.add("visible"):this.classList.remove("visible")}render(){const e=this.getAttribute("title")||"",t=this.hasAttribute("closable"),n=this.hasAttribute("cover");this.shadowRoot.innerHTML=`\n        <style>\n          :host {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100vw;\n            height: 100vh;\n            z-index: 1000;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            opacity: 0;\n            pointer-events: none;\n            transition: opacity 0.1s ease;\n          }\n          :host(.visible) {\n            opacity: 1;\n            pointer-events: auto;\n          }\n          .cover {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.5);\n            z-index: 1;\n          }\n          .dialog {\n            position: relative;\n            z-index: 2;\n            display: flex;\n            flex-direction: column;\n            width: 400px;\n            background: var(--base-surface, var(--neutral-1, rgba(241,246,250,1)));\n            border: var(--border-medium, 2px) solid var(--base-border, var(--neutral-2, rgba(215,219,222,1)));\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            overflow: hidden;\n            font-family: Tomorrow, sans-serif;\n          }\n          .header, .footer {\n            background: var(--base-border, var(--neutral-2, rgba(215,219,222,1)));\n            padding: var(--spacing-medium, 8px);\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            font-family: ProFontWindows, sans-serif;\n            font-size: 20px;\n            font-weight: 500;\n          }\n          .header {\n            border-bottom: var(--border-medium, 2px) solid var(--base-border, var(--neutral-2, rgba(215,219,222,1)));\n          }\n          .footer {\n            border-top: var(--border-medium, 2px) solid var(--base-border, var(--neutral-2, rgba(215,219,222,1)));\n          }\n          .content {\n            position: relative;\n            padding: 26px 16px;\n            flex: 1;\n            overflow-y: auto;\n          }\n          .close-btn {\n            background: none;\n            border: none;\n            cursor: pointer;\n            padding: 0;\n            margin: 0;\n            line-height: 1;\n            color: var(--base-text--, var(--neutral-9, rgba(29,29,29,1)));\n          }\n          .close-btn svg {\n            width: 20px;\n            height: 20px;\n            fill: currentColor;\n          }\n        </style>\n        ${n?'<div class="cover"></div>':""}\n        <div class="dialog">\n          <div class="header" part="header">\n            <span class="title">${e}</span>\n            ${t?'<button class="close-btn" aria-label="Close dialog">\n                         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n                           <path d="M6 6 L14 14 M14 6 L6 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n                         </svg>\n                       </button>':""}\n          </div>\n          <div class="content" part="content">\n            <slot></slot>\n          </div>\n          <div class="footer" part="footer">\n            <slot name="footer"></slot>\n          </div>\n        </div>\n      `}attachEvents(){this.shadowRoot.addEventListener("click",(e=>{(e.target.closest(".close-btn")||e.target.classList.contains("cover"))&&this.close()})),this._keydownHandler=e=>{"Escape"===e.key&&this.close()},document.addEventListener("keydown",this._keydownHandler)}setupAnchor(){this._anchor&&this._openHandler&&(this._anchor.removeEventListener("click",this._openHandler),this._anchor=null);const e=this.getAttribute("anchor");if(e){const t=this.getContainer(e);t&&(this._openHandler=this._openDialog.bind(this),t.addEventListener("click",this._openHandler),this._anchor=t)}}_openDialog(e){e.preventDefault(),this.visible=!0}close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0,composed:!0})),this.visible=!1}}customElements.get("kp-dialog")||customElements.define("kp-dialog",h);class p extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.tabs=[],this.activeTab=null,this.render()}static get observedAttributes(){return["tabs","active-tab"]}attributeChangedCallback(e,t,n){if(t!==n)if("tabs"===e){try{this.tabs=JSON.parse(n)}catch(e){console.error("Invalid JSON for tabs:",n,e),this.tabs=[]}if(!this.hasAttribute("active-tab")&&this.tabs.length){const e=this.tabs.find((e=>!e.disabled));this.activeTab=e?e.tab:null}this.render()}else"active-tab"===e&&(this.activeTab=n,this.render())}connectedCallback(){if(!this.activeTab&&this.tabs.length){const e=this.tabs.find((e=>!e.disabled));this.activeTab=e?e.tab:null}this.render()}renderHeader(){let e="";return this.tabs.forEach((t=>{const n=this.activeTab===t.tab,r=t.disabled?" disabled":"",a=t.leftIcon?`<span class="left-icon">${t.leftIcon}</span>`:"",i=t.rightIcon?`<span class="right-icon">${t.rightIcon}</span>`:"";e+=`\n          <div class="tab-header${n?" active":""}${r}" data-tab="${t.tab}">\n            <div class="tab-header-content">\n              ${a}\n              <span class="tab-name">${t.name}</span>\n              ${i}\n            </div>\n          </div>\n        `})),e}renderBody(){let e="";return this.tabs.forEach((t=>{const n=this.activeTab===t.tab?" active":"";e+=`<slot name="${t.tab}" class="${n}" part="tab-content"></slot>`})),e}render(){const e=this.renderHeader(),t=this.renderBody();this.shadowRoot.innerHTML=`\n        <style>\n            :host {\n                display: flex;\n                font-family: inherit;\n                flex-direction: column;\n            }\n            .tabs-header {\n                display: flex;\n                font-family: ProFontWindows, sans-serif;\n                margin-bottom: -1px;\n                z-index: 2;\n            }\n            .tab-header {\n                flex: 0 1 auto;\n                padding: var(--spacing-medium, 8px);\n                background: var(--base-text--, rgba(29,29,29,1));\n                font-size: 18px;\n                color: var(--base-surface, rgba(241, 246, 250, 1));\n                text-align: center;\n                text-transform: uppercase;\n                overflow: hidden;\n                cursor: pointer;\n                transition: background 0.2s ease;\n                border: var(--border-medium, 2px) solid var(--base-text--, rgba(29,29,29,1));\n                border-bottom: none;\n            }\n            .tab-header:last-child {\n                border-right: none;\n            }\n            .tab-header.active {\n                background: var(--base-surface, rgba(241,246,250,1));\n                color: var(--base-text--, rgba(29,29,29,1));\n                border: var(--border-medium, 2px) solid var(--base-text--, rgba(29,29,29,1));\n                border-bottom: none;\n            }\n            .tab-header-content {\n                display: flex;\n                align-items: center;\n                padding: var(--spacing-small, 4px);\n            }\n            .tab-header.disabled {\n                position: relative;\n                cursor: default;\n                background: var(--base-text-subtle, rgba(109,110,112,1));\n                border: var(--border-medium, 2px) solid var(--base-text-subtle, rgba(109,110,112,1));\n            }\n            .tab-header.disabled::before {\n                content: '';\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background: repeating-linear-gradient(\n                    -45deg,\n                    var(--base-surface, rgba(241,246,250,1)) 0,\n                    var(--base-surface, rgba(241,246,250,1)) 2px,\n                    transparent 3px,\n                    transparent 10px\n                );\n                pointer-events: none;\n                z-index: 1;\n            }\n            .tab-header.disabled .tab-header-content {\n                display: flex;\n                background: var(--base-text-subtle, rgba(109,110,112,1));\n                z-index: 2;\n                position: relative;\n            }   \n            .tabs-content slot {\n                display: none;\n            }\n            .tabs-content slot.active {\n                display: block;\n                border: var(--border-medium, 2px) solid var(--base-text--, rgba(29,29,29,1));\n                margin-top: -2px;\n                padding: var(--spacing-medium, 8px);\n            }\n            .left-icon, .right-icon {\n                margin: 0 4px;\n            }\n        </style>\n        <div class="tabs-header" part="tabs-header">\n          ${e}\n        </div>\n        <div class="tabs-content" part="tabs-content">\n          ${t}\n        </div>\n      `,this.attachHeaderListeners()}attachHeaderListeners(){this.shadowRoot.querySelectorAll(".tab-header").forEach((e=>{e.addEventListener("click",(()=>{if(e.classList.contains("disabled"))return;const t=e.getAttribute("data-tab");this.activeTab=t,this.setAttribute("active-tab",t),this.render(),this.dispatchEvent(new CustomEvent("change",{detail:{activeTab:t},bubbles:!0,composed:!0}))}))}))}}customElements.get("kp-tabs")||customElements.define("kp-tabs",p);class b extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.render(),this.selectedValues=new Set}static get observedAttributes(){return["anchor","position","align","items","multiple","value","track-selection"]}getContainer(e,t){const n=t?"querySelectorAll":"querySelector";return window.__routerShadowRoot?window.__routerShadowRoot[n](e):document[n](e)}attributeChangedCallback(e,t,n){t!==n&&("value"===e?this.value=n:this.updateComponent())}connectedCallback(){this.updateComponent(),this.addEventListeners();const e=this.getAttribute("anchor");if(e){const t=this.getContainer(e);t&&(this.anchorObserver=new MutationObserver((()=>{this.positionMenu(t)})),this.anchorObserver.observe(t,{attributes:!0,childList:!0,subtree:!0}))}}disconnectedCallback(){this.anchorObserver&&this.anchorObserver.disconnect()}render(){this.shadowRoot.innerHTML='\n        <style>\n            :host {\n                display: none;\n                position: absolute;\n                box-sizing: border-box;\n                background: var(--base-text--, rgba(29,29,29,1));\n                z-index: 10;\n                max-height: 200px;\n                overflow-y: auto;\n                box-shadow: var(--shadow-medium, 0 4px 8px rgba(0, 0, 0, 0.2));\n            }\n            .menu-item {\n                padding: var(--spacing-medium, 8px);\n                font-size: var(--font-size, 16px);\n                font-family: Tomorrow, sans-serif;\n                color: var(--base-surface, rgba(241,246,250,1));\n                background: var(--base-text--, rgba(29,29,29,1));\n                cursor: pointer;\n                transition: background-color 0.2s ease, color 0.2s ease;\n            }\n            .menu-item:hover {\n                background: var(--base-text-emphasize, rgba(56,56,57,1));\n            }\n            .menu-item.selected {\n                background: var(--primary--, rgba(4,134,209,1));\n                color: var(--primary-background--, rgba(245,250,250,1));\n            }\n        </style>\n        <div id="menuContainer" part="menuContainer"></div>\n      '}updateComponent(){let e=[];try{e=JSON.parse(this.getAttribute("items")||"[]")}catch(e){console.error("KeplerMenu: invalid items JSON",e)}const t="false"!==this.getAttribute("track-selection");if(t&&this.hasAttribute("value")){const e=this.getAttribute("value");this.hasAttribute("multiple")?this.selectedValues=new Set(e.split(",").map((e=>e.trim()))):this.selectedValues=new Set([e.trim()])}this.shadowRoot.querySelector("#menuContainer").innerHTML=e.map(((e,n)=>`\n                    <div class="menu-item ${t&&this.selectedValues.has(String(e.value))?"selected":""}" data-index="${n}" data-value="${e.value}">\n                        <label>${e.label||""}</label>\n                    </div>\n                `)).join("")}addEventListeners(){const e=this.getAttribute("anchor");if(e){const t=this.getContainer(e);t&&t.addEventListener("click",(e=>{e.stopPropagation(),"block"===this.style.display?this.hideMenu():(this.showMenu(),this.positionMenu(t))}))}this.shadowRoot.addEventListener("click",(e=>{const t=e.target.closest(".menu-item");if(t){const e=t.getAttribute("data-value");let n=[];try{n=JSON.parse(this.getAttribute("items")||"[]")}catch(e){console.error("KeplerMenu: invalid items JSON",e)}const r=n[t.getAttribute("data-index")];if(r&&r.href)return void(window.location.href=r.href);const a="false"!==this.getAttribute("track-selection"),i=this.hasAttribute("multiple");a&&(i?this.selectedValues.has(e)?(this.selectedValues.delete(e),t.classList.remove("selected")):(this.selectedValues.add(e),t.classList.add("selected")):(this.shadowRoot.querySelectorAll(".menu-item.selected").forEach((e=>e.classList.remove("selected"))),t.classList.add("selected"),this.selectedValues=new Set([e]),this.hideMenu()),this.setAttribute("value",this.value),this.updateComponent(),this.dispatchEvent(new CustomEvent("select",{detail:{value:e,item:r,valueList:this.value},bubbles:!0,composed:!0})))}})),document.addEventListener("click",(e=>{this.contains(e.target)||this.hideMenu()}))}toggleMenu(){"none"===this.style.display||""===this.style.display?this.showMenu():this.hideMenu()}showMenu(){this.getContainer("kp-menu",!0).forEach((e=>{e!==this&&e.hideMenu()})),this.style.display="block";const e=this.getAttribute("anchor"),t=this.getContainer(e);t&&(this.positionMenu(t),this.scrollHandler=()=>requestAnimationFrame((()=>this.positionMenu(t))),window.addEventListener("scroll",this.scrollHandler,!0),window.addEventListener("resize",this.scrollHandler))}hideMenu(){this.style.display="none",this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler,!0),window.removeEventListener("resize",this.scrollHandler))}positionMenu(e){if(!e)return;const t=e.getBoundingClientRect(),n=this.getBoundingClientRect(),r=window.innerWidth,a=window.innerHeight,i=this.getAttribute("position")||"bottom",s=this.getAttribute("align")||"start";let o=t.bottom,l=t.left;if("top"===i&&(o=t.top-n.height),"end"===s?l=t.right-n.width:"center"===s&&(l=t.left+(t.width-n.width)/2),l+n.width>r&&(l=r-n.width-10),o+n.height>a&&(o=a-n.height-10),l<10&&(l=10),o<10&&(o=10),this.style.position="fixed",this.style.top=`${o}px`,this.style.left=`${l}px`,!this.style.width){let e=0;this.shadowRoot.querySelectorAll(".menu-item").forEach((t=>{e=Math.max(e,t.offsetWidth)})),this.style.width=`${e}px`}}get value(){return this.hasAttribute("multiple")?Array.from(this.selectedValues).join(","):this.selectedValues.size?Array.from(this.selectedValues)[0]:""}set value(e){this.hasAttribute("multiple")?"string"==typeof e?this.selectedValues=new Set(e.split(",").map((e=>e.trim()))):Array.isArray(e)&&(this.selectedValues=new Set(e)):this.selectedValues="string"==typeof e?new Set([e.trim()]):new Set,this.updateComponent()}}customElements.get("kp-menu")||customElements.define("kp-menu",b);class u extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML="\n        <style>\n          :host {\n            display: block;\n          }\n          ::slotted(kepler-panel) {\n            margin-bottom: 4px;\n          }\n        </style>\n        <slot></slot>\n      "}}customElements.get("kp-panelbar")||customElements.define("kp-panelbar",u);class g extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this._expanded=!1,this.render()}static get observedAttributes(){return["selected","expanded"]}attributeChangedCallback(e,t,n){"selected"===e&&t!==n&&this.updateSelectedState(),"expanded"===e&&t!==n&&(this.hasAttribute("expanded")?this._expanded||this.expand():this._expanded&&this.collapse())}get selected(){return this.hasAttribute("selected")}set selected(e){e?this.setAttribute("selected",""):this.removeAttribute("selected")}get expanded(){return this.hasAttribute("expanded")}set expanded(e){e?this.setAttribute("expanded",""):this.removeAttribute("expanded")}updateSelectedState(){this.selected?this.classList.add("selected"):this.classList.remove("selected")}connectedCallback(){this.addHeaderListeners(),this.checkForChildren(),this.updateSelectedState()}render(){this.shadowRoot.innerHTML='\n        <style>\n          :host {\n            display: block;\n            background: var(--base-surface, rgba(241,246,250,1));\n            color: var(--base-text--, rgba(29,29,29,1));\n            z-index: 10;\n            border-left: var(--border-medium, 2px) solid var(--base-surface, rgba(241,246,250,1));\n          }\n          :host(.expanded) {\n            background: var(--base-text--, rgba(29,29,29,1));\n            color: var(--base-surface, rgba(241,246,250,1));\n            border-left: var(--border-medium, 2px) solid var(--base-text--, rgba(29,29,29,1));\n          }\n          :host(.selected) {\n            color: var(--primary--, rgba(4,134,209,1));\n            background: var(--primary-background-hover, rgba(245,250,250,1));\n            border-left: var(--border-medium, 2px) solid var(--primary--, rgba(4,134,209,1));\n            margin-left: calc(var(--border-medium, 2px) * -1);\n            padding-left: var(--border-medium, 2px);\n            z-index: 11;\n          }\n          :host(.expanded) .header {\n            padding-left: calc(var(--spacing-medium, 8px) - var(--border-small, 1px));\n          }\n          :host(.expanded) .header:hover {\n            background: var(--base-text-emphasize, rgba(56,56,57,1));\n          }\n          :host(.selected) .header:hover {\n            background: var(--primary-background-active, rgba(225,64,92,1));\n          }\n          .header {\n            display: flex;\n            align-items: center;\n            padding: var(--spacing-medium, 8px);\n            padding-left: var(--spacing-large, 10px);\n            cursor: pointer;\n            transition: background 0.2s ease;\n            gap: var(--spacing-medium, 8px);\n          }\n          .header:hover {\n            background: var(--base-hover, rgba(215,219,222,1));\n          }\n          .header:not(.clickable) {\n            cursor: default;\n          }\n          .header ::slotted([slot="icon"]) {\n            margin-right: 8px;\n          }\n          .header ::slotted([slot="label"]) {\n            flex-grow: 1;\n            cursor: inherit;\n            font-size: 21px;\n          }\n          .arrow {\n            display: inline-block;\n            width: 20px;\n            height: 20px;\n            transition: transform 0.2s ease;\n          }\n          .arrow.expanded {\n            transform: rotate(180deg);\n          }\n          .children {\n            display: none;\n          }\n          .children.expanded {\n            display: block;\n          }\n        </style>\n        <div class="header">\n          <slot name="icon"></slot>\n          <slot name="label"></slot>\n          <span class="arrow" id="arrow">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20">\n              <path d="M5 7 L10 12 L15 7" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" />\n            </svg>\n          </span>\n        </div>\n        <div class="children" id="childrenContainer">\n          <slot name="children"></slot>\n        </div>\n      '}addHeaderListeners(){this.shadowRoot.querySelector(".header").addEventListener("click",(()=>{this.hasAttribute("href")?window.location.href=this.getAttribute("href"):this.hasChildren()?this.toggle():this.dispatchEvent(new CustomEvent("select",{detail:{selected:!0},bubbles:!0,composed:!0}))}));this.shadowRoot.querySelector('slot[name="children"]').addEventListener("slotchange",(()=>this.checkForChildren()))}hasChildren(){const e=this.shadowRoot.querySelector('slot[name="children"]').assignedNodes({flatten:!0});return e&&e.length>0}checkForChildren(){const e=this.shadowRoot.querySelector(".header"),t=this.shadowRoot.querySelector("#arrow");this.hasChildren()?(t.style.visibility="visible",e.classList.add("clickable")):(t.style.visibility="hidden",e.classList.remove("clickable"))}toggle(){if(this.hasChildren()){if(this._expanded)this.collapse();else{const e=this.closest("kp-panelbar");if(e&&e.hasAttribute("exclusive")){e.querySelectorAll("kp-panel").forEach((e=>{e!==this&&e._expanded&&e.collapse()}))}this.expand()}this.dispatchEvent(new CustomEvent("toggle",{detail:{expanded:this._expanded},bubbles:!0,composed:!0}))}}expand(){const e=this.shadowRoot.querySelector("#childrenContainer"),t=this.shadowRoot.querySelector("#arrow");e.classList.add("expanded"),t.classList.add("expanded"),this._expanded=!0,this.classList.add("expanded"),this.dispatchEvent(new CustomEvent("expand",{detail:{expanded:!0},bubbles:!0,composed:!0}))}collapse(){const e=this.shadowRoot.querySelector("#childrenContainer"),t=this.shadowRoot.querySelector("#arrow");e.classList.remove("expanded"),t.classList.remove("expanded"),this._expanded=!1,this.classList.remove("expanded"),this.dispatchEvent(new CustomEvent("collapse",{detail:{expanded:!1},bubbles:!0,composed:!0}))}}customElements.get("kp-panel")||customElements.define("kp-panel",g);class m extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.routes=[],this.cache=new Map,this.render=this.render.bind(this)}static get observedAttributes(){return["routes"]}attributeChangedCallback(e,t,n){if("routes"===e)try{const e=JSON.parse(n);this.routes=e.map((e=>{const{regex:t,paramNames:n}=this.compileRoutePattern(e.route);return{...e,regex:t,paramNames:n}})),this.render()}catch(e){console.error("Invalid routes JSON:",e)}}connectedCallback(){if(window.addEventListener("popstate",this.render),m._globalClickAttached||(document.addEventListener("click",m.handleGlobalClick),m._globalClickAttached=!0),this.hasAttribute("routes"))try{const e=JSON.parse(this.getAttribute("routes"));this.routes=e.map((e=>{const{regex:t,paramNames:n}=this.compileRoutePattern(e.route);return{...e,regex:t,paramNames:n}}))}catch(e){console.error("Invalid routes attribute:",e)}this.render()}disconnectedCallback(){window.removeEventListener("popstate",this.render)}static handleGlobalClick(e){const t=e.composedPath().find((e=>"A"===e.tagName));if(t&&t.href){const n=new URL(t.href);if(n.origin===location.origin){e.preventDefault(),history.pushState(null,"",n.pathname+n.hash);const t=document.querySelector("kp-router");t&&t.render()}}}compileRoutePattern(e){const t=[],n=e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&").replace(/:([^\/]+)/g,((e,n)=>(t.push(n),"([^\\/]+)")));return{regex:new RegExp(`^${n}$`),paramNames:t}}findMatchedRoute(e){for(const t of this.routes){const n=e.match(t.regex);if(n){const e={};return t.paramNames.forEach(((t,r)=>{e[t]=n[r+1]})),{...t,params:e}}}return null}renderLoader(){this.clearShadowRoot();const e=document.createElement("slot");e.name="loader",this.shadowRoot.appendChild(e)}renderExternalContent(e){const t=e.src;this.renderLoader();const n=t=>{const n=(new DOMParser).parseFromString(t,"text/html");let r;const a=n.querySelector("template");r=a?a.content.cloneNode(!0):n.body.cloneNode(!0);const i=document.createDocumentFragment();if(e.propagateStyles){document.head.querySelectorAll('link[rel="stylesheet"], style').forEach((e=>{i.appendChild(e.cloneNode(!0))}))}i.appendChild(r),this.clearShadowRoot(),this.shadowRoot.appendChild(i),this.processScripts()};this.cache.has(t)?n(this.cache.get(t)):fetch(e.src).then((e=>e.text())).then((e=>{this.cache.set(t,e),n(e)})).catch((e=>{console.error("Error loading route content:",e),this.shadowRoot.innerHTML="<div>Error loading route content</div>"}))}renderSlotContent(e){const t=document.createElement("slot");t.name=e.slot,this.clearShadowRoot(),this.shadowRoot.appendChild(t)}clearShadowRoot(){for(;this.shadowRoot.firstChild;)this.shadowRoot.removeChild(this.shadowRoot.firstChild)}processScripts(){this.shadowRoot.querySelectorAll("script").forEach((e=>{if("module"===e.getAttribute("type")&&e.src){const t=e.src+(e.src.includes("?")?"&":"?")+"t="+Date.now();import(t).catch((e=>console.error("Error dynamically importing module script:",e))),e.remove()}else{const t=document.createElement("script");e.hasAttribute("type")&&t.setAttribute("type",e.getAttribute("type")),e.hasAttribute("async")&&(t.async=!0),e.hasAttribute("defer")&&(t.defer=!0),e.src?t.src=e.src:t.textContent=e.textContent,e.parentNode.replaceChild(t,e)}}))}render(){const e=window.location.pathname,t=this.findMatchedRoute(e);this.clearShadowRoot(),t?t.src?this.renderExternalContent(t):t.slot&&this.renderSlotContent(t):this.shadowRoot.innerHTML="<div>Not Found</div>",window.__routerShadowRoot=this.shadowRoot}setRoutes(e){this.routes=e.map((e=>{const{regex:t,paramNames:n}=this.compileRoutePattern(e.route);return{...e,regex:t,paramNames:n}})),this.render()}}customElements.get("kp-router")||customElements.define("kp-router",m);class v extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){const e=this.innerHTML.trim(),t=this.decodeHtmlEntities(e),n=this.getAttribute("lang")||"none";this.innerHTML="",this.shadowRoot.innerHTML=`\n        <style>\n            :host {\n                display: block;\n                font-family: Consolas, monospace;\n                background: var(--base-background);\n                color: var(--base-text--, rgba(29, 29, 29, 1));\n                padding: 1em;\n                border-radius: var(--radii-medium);\n                overflow: auto;\n            }\n            pre {\n                margin: 0;\n                white-space: pre-wrap;\n                word-wrap: break-word;\n                font-size: 14px;\n            }\n            code {\n                display: block;\n            }\n            .copy-button {\n                position: absolute;\n                top: 8px;\n                right: 8px;\n                background: var(--base-text--, rgba(29, 29, 29, 1));\n                border: none;\n                color: var(--base-surface, rgba(241, 246, 250, 1));\n                padding: 4px 8px;\n                cursor: pointer;\n                border-radius: var(--radii-medium);\n                font-size: 12px;\n            }\n        </style>\n        <button class="copy-button" title="Copy to clipboard">Copy</button>\n        <pre><code class="language-${n}"></code></pre>\n        `;this.shadowRoot.querySelector("code").textContent=t,this.dispatchEvent(new CustomEvent("kp-code-ready",{detail:{element:this,language:n},bubbles:!0,composed:!0})),this.shadowRoot.querySelector(".copy-button").addEventListener("click",(()=>this.copyCode(t)))}decodeHtmlEntities(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}copyCode(e){navigator.clipboard.writeText(e).catch((e=>console.error("Error copying code: ",e)))}}customElements.define("kp-code",v);class f extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.lastSegmentsCount=0,this.render(),this.setupRefs(),this.setupResizeObserver(),this.updateSize(),this.updateProgress()}static get observedAttributes(){return["value","max","size"]}attributeChangedCallback(e,t,n){t!==n&&("size"===e&&(this.updateSize(),this.updateSegments()),this.updateProgress())}render(){this.shadowRoot.innerHTML='\n        <style>\n          :host {\n            display: inline-block;\n            min-width: 20px;\n            max-width: 100%;\n            /* Default styling variables; these may be overridden by updateSize() */\n            --progress-filled-color: var(--primary--, rgba(4, 134, 209, 1));\n            --progress-unfilled-color: var(--base-surface, rgba(241, 246, 250, 1));\n            --progress-animation-duration: 1.5s;\n            --progress-height: 28px;\n            --segment-margin: var(--spacing-x-small, 4px);\n          }\n          .progress-container {\n            display: flex;\n            width: auto;\n            max-width: 100%;\n            padding: var(--segment-margin);\n            border: var(--border-medium, 2px) solid var(--base-text--, rgba(29, 29, 29, 1));\n            box-sizing: border-box;\n            overflow: hidden;\n          }\n          .progress-segment {\n            background-color: var(--progress-unfilled-color);\n            margin: var(--segment-margin);\n            position: relative;\n            overflow: hidden;\n          }\n          .progress-segment.filled {\n            background-color: var(--progress-filled-color);\n          }\n          .indeterminate .progress-segment {\n            opacity: 0.3;\n            background-color: var(--primary--, rgba(4, 134, 209, 1));\n            animation: fade var(--progress-animation-duration) linear infinite;\n          }\n          \n          /* Adjusted keyframes so the full-opacity (gradient) portion is spread wider */\n          @keyframes fade {\n            0% { opacity: 0.3; }\n            40% { opacity: 1; }\n            60% { opacity: 1; }\n            100% { opacity: 0.3; }\n          }\n        </style>\n        <div class="progress-container"></div>\n      '}setupRefs(){this.progressContainer=this.shadowRoot.querySelector(".progress-container")}setupResizeObserver(){this.resizeObserver=new ResizeObserver((()=>{this.updateSegments(),this.updateProgress()})),this.resizeObserver.observe(this.progressContainer)}updateSize(){let e,t;switch(this.getAttribute("size")||"medium"){case"small":e="16px",t="var(--spacing-2x-small, 1px)";break;case"large":e="40px",t="var(--spacing-small, 4px)";break;default:e="28px",t="var(--spacing-x-small, 2px)"}this.style.setProperty("--progress-height",e),this.style.setProperty("--segment-margin",t)}updateSegments(){const e=getComputedStyle(this.progressContainer),t=parseFloat(e.getPropertyValue("padding-left"))||0,n=parseFloat(e.getPropertyValue("padding-right"))||0,r=this.progressContainer.clientWidth-t-n,a=getComputedStyle(this),i=parseFloat(a.getPropertyValue("--progress-height"))||40,s=a.getPropertyValue("--segment-margin"),o=parseFloat(s)||4,l=i+2*o;let d=Math.floor(r/l);d<1&&(d=1);let c=2*d,h=Math.floor(r/(.5*l+2*o)),p=c>h?h:c;p<d&&(p=d);const b=(r-2*p*o)/p;if(p!==this.lastSegmentsCount){this.lastSegmentsCount=p,this.progressContainer.innerHTML="",this.segments=[];for(let e=0;e<p;e++){const t=document.createElement("div");t.classList.add("progress-segment"),t.style.width=b+"px",t.style.height=i+"px",t.style.animationDelay=.15*e+"s",this.progressContainer.appendChild(t),this.segments.push(t)}}else this.segments.forEach(((e,t)=>{e.style.width=b+"px",e.style.height=i+"px",e.style.animationDelay=.15*t+"s"}))}updateProgress(){this.updateSegments();const e=this.segments.length;if(this.hasAttribute("value")){const t=parseFloat(this.getAttribute("value"))/(parseFloat(this.getAttribute("max"))||100)*100,n=Math.round(t/100*e);this.progressContainer.classList.remove("indeterminate"),this.segments.forEach(((e,t)=>{t<n?e.classList.add("filled"):e.classList.remove("filled")}))}else this.progressContainer.classList.add("indeterminate"),this.segments.forEach(((t,n)=>{t.classList.remove("filled"),t.style.animationDelay=.15*-(e-1-n)+"s"}))}disconnectedCallback(){this.resizeObserver&&this.resizeObserver.disconnect()}}customElements.get("kp-progress")||customElements.define("kp-progress",f);class x extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this._toggle=this._toggle.bind(this),this.render(),this.attachEvents()}static get observedAttributes(){return["size","on-color","off-color","disabled","value","name","label","label-position","slider-width"]}attributeChangedCallback(e,t,n){t!==n&&("value"===e?this.updateSwitchState():this.render())}get value(){return"true"===this.getAttribute("value")}set value(e){this.setAttribute("value",e?"true":"false")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get label(){return this.getAttribute("label")||""}attachEvents(){this.shadowRoot.addEventListener("click",(e=>{this.disabled||this._toggle()})),this.shadowRoot.addEventListener("keydown",(e=>{this.disabled||" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),this._toggle())}))}_toggle(){const e=!this.value;this.value=e,this.dispatchEvent(new CustomEvent("change",{detail:{value:e},bubbles:!0,composed:!0})),this.updateSwitchState()}render(){const e=this.getAttribute("size")||"medium",t=this.getAttribute("on-color")||"var(--primary--, rgba(4,134,209,1))",n=this.getAttribute("off-color")||"var(--base-text-light, rgba(109,110,112,1))",r=this.hasAttribute("disabled"),a=this.label,i=this.getAttribute("label-position")||"top",s=this.value,o=s?t:n,l=s?n:t,d="var(--base-surface, rgba(241,246,250,1))";let c;switch(e){case"small":c="32px";break;case"large":c="52px";break;default:c="40px"}let h="column";"left"===i?h="row":"right"===i?h="row-reverse":"bottom"===i&&(h="column-reverse");const p=this.getAttribute("slider-width")||"120px";this.shadowRoot.innerHTML=`\n        <style>\n          :host {\n            display: inline-block;\n            font-family: sans-serif;\n            --slider-width: ${p};\n            --border: var(--border-medium, 2px);\n            --padding: var(--spacing-small, 4px);\n            --inner-width: calc(var(--slider-width) - 2 * (var(--border) + var(--padding)));\n          }\n\n          .switch-wrapper {\n            display: flex;\n            flex-direction: ${h};\n            gap: var(--spacing-small, 2px);\n          }\n\n          .switch-label {\n            color: var(--base-text, #333);\n            display: ${a?"flex":"none"};\n            font-family: Tomorrow, monospace;\n          }\n\n          .switch-wrapper.label-left .switch-label,\n          .switch-wrapper.label-right .switch-label {\n              box-sizing: border-box;\n              background: var(--base-text--, #333);\n              color: var(--base-surface, rgba(241,246,250,1));\n              font-size: var(--size-h5, 21px);\n              font-family: ProFontWindows, monospace;\n              padding: var(--spacing-medium, 4px);\n              line-height: 24px;\n              height: ${c};\n          }\n\n          .switch-wrapper.label-left .switch-label {\n            text-align: right;\n          }\n          .switch-wrapper.label-right .switch-label {\n            text-align: left;\n          }\n          .switch-wrapper.label-top .switch-label,\n          .switch-wrapper.label-bottom .switch-label {\n            color: var(--base-text--, #333);\n          }\n\n          .switch {\n            position: relative;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            width: var(--slider-width);\n            height: ${c};\n            padding: var(--padding);\n            border: var(--border) solid ${o};\n            box-sizing: border-box;\n            cursor: pointer;\n            user-select: none;\n            outline: none;\n            transition: border-color 0.2s ease;\n          }\n\n          .switch.disabled {\n            opacity: 0.6;\n            pointer-events: none;\n          }\n\n          .active-indicator {\n            position: absolute;\n            top: var(--padding);\n            left: ${s?"calc(var(--padding) + var(--inner-width) / 2)":"calc(var(--padding))"};\n            width: calc(var(--inner-width) / 2);\n            height: calc(100% - 2 * var(--padding));\n            background-color: ${o};\n            transition: left 0.2s ease, background-color 0.2s ease;\n            z-index: 1;\n          }\n\n          .switch-text {\n            position: relative;\n            display: flex;\n            width: var(--inner-width);\n            z-index: 2;\n            pointer-events: none;\n          }\n\n          .switch-text span {\n            display: inline-flex;\n            justify-content: center;\n            align-items: center;\n            width: calc(var(--inner-width) / 2);\n            text-align: center;\n            font-size: 1.2em;\n            text-transform: uppercase;\n            transition: color 0.2s ease, background-color 0.2s ease;\n            font-family: ProFontWindows, monospace;\n            line-height: ${c};\n          }\n\n          /* When active, text inside the slider uses base-surface */\n          .switch-text .off-text {\n            color: ${s?l:d};\n          }\n\n          .switch-text .on-text {\n            color: ${s?d:l};\n          }\n        </style>\n        <div class="switch-wrapper label-${i}">\n          ${a?`<div class="switch-label">${a}</div>`:""}\n          <div class="switch ${r?"disabled":""}"\n               role="switch"\n               tabindex="0"\n               aria-checked="${s}">\n            <div class="active-indicator"></div>\n            <div class="switch-text">\n              <span class="off-text" part="off">\n                <slot name="off-label">Off</slot>\n              </span>\n              <span class="on-text" part="on">\n                <slot name="on-label">On</slot>\n              </span>\n            </div>\n          </div>\n        </div>\n      `}updateSwitchState(){const e=this.getAttribute("on-color")||"var(--primary--, rgba(4,134,209,1))",t=this.getAttribute("off-color")||"var(--base-text-light, rgba(109,110,112,1))",n=this.value,r=n?e:t,a=n?t:e,i="var(--base-surface, rgba(241,246,250,1))",s=this.shadowRoot.querySelector(".switch");s&&(s.style.borderColor=r);const o=this.shadowRoot.querySelector(".active-indicator");o&&(o.style.backgroundColor=r,o.style.left=n?"calc(var(--padding) + var(--inner-width) / 2)":"calc(var(--padding))");const l=this.shadowRoot.querySelector(".switch-text .off-text"),d=this.shadowRoot.querySelector(".switch-text .on-text");l&&(l.style.color=n?a:i),d&&(d.style.color=n?i:a)}}customElements.get("kp-switch")||customElements.define("kp-switch",x);class y extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.render(),this.addEventListeners()}static get observedAttributes(){return["placeholder","disabled","value","name","maxlength","minlength","readonly","required","aria-label","aria-hidden","label","label-position","invalid"]}attributeChangedCallback(e,t,n){t!==n&&("label"===e||"label-position"===e?this.updateLabel():"value"===e||"required"===e?(this.syncAttributesToTextarea(e,n),this.updateValidation()):"invalid"!==e&&this.syncAttributesToTextarea(e,n))}connectedCallback(){this.hasAttribute("invalid")&&!this.hasAttribute("data-manual-invalid")&&this.setAttribute("data-manual-invalid","true"),this.syncAttributes(),this.updateValidation(),this.hiddenInput||(this.hiddenInput=document.createElement("input"),this.hiddenInput.type="hidden",this.hiddenInput.name=this.getAttribute("name")||"",this.hiddenInput.value=this.inputElement?this.inputElement.value:"",this.appendChild(this.hiddenInput)),this.updateHiddenInput()}updateHiddenInput(){this.hiddenInput&&(this.hiddenInput.name=this.getAttribute("name")||"",this.hiddenInput.value=this.inputElement.value)}render(){this.shadowRoot.innerHTML='\n        <style>\n          :host {\n            display: inline-block;\n            width: 100%;\n          }\n          .label-wrapper {\n            display: flex;\n            box-sizing: border-box;\n            align-items: center;\n            font-family: ProFontWindows, sans-serif;\n            font-size: 21px;\n            line-height: 24px;\n            font-weight: 500;\n            color: var(--base-surface, rgba(241,246,250,1));\n            background: var(--base-text--, rgba(29,29,29,1));\n            padding: var(--spacing-medium, 8px);\n            border-radius: var(--border-small, 1px);\n            gap: var(--spacing-small, 8px);\n            transition: background-color 0.2s ease, color 0.2s ease;\n          }\n          :host([label-position="top"]) .label-wrapper,\n          :host([label-position="bottom"]) .label-wrapper {\n            width: 100%;\n            justify-content: flex-start;\n            background-color: var(--base-surface, rgba(241,246,250,1));\n            color: var(--base-text--, rgba(29,29,29,1));\n            padding: 0;\n          }\n          :host([label-position="top"]) .input-container,\n          :host([label-position="bottom"]) .input-container {\n            gap: 0;\n          }\n          .label-wrapper.selected {\n            background-color: var(--primary--, rgba(4,134,209,1));\n            color: var(--primary-background--, rgba(245,250,250,1));\n          }\n          .label-icon {\n            display: flex;\n            align-items: center;\n          }\n          .input-container {\n            display: flex;\n            flex-direction: column;\n            gap: var(--spacing-small, 8px);\n          }\n          :host([label-position="left"]) .input-container {\n            flex-direction: row;\n            align-items: stretch;\n          }\n          :host([label-position="right"]) .input-container {\n            flex-direction: row-reverse;\n            align-items: stretch;\n          }\n          :host([label-position="top"]) .input-container {\n            flex-direction: column;\n            align-items: stretch;\n          }\n          :host([label-position="bottom"]) .input-container {\n            flex-direction: column-reverse;\n            align-items: stretch;\n          }\n          .input-wrapper {\n            box-sizing: border-box;\n            display: flex;\n            flex: 1 0 auto;\n            align-items: stretch;\n            padding: var(--spacing-medium, 8px);\n            border: var(--border-medium, 2px) solid var(--base-text--, rgba(29,29,29,1));\n            border-radius: var(--border-small, 1px);\n            background: var(--base-surface, rgba(241,246,250,1));\n            color: var(--base-text--, rgba(29,29,29,1));\n            font-family: Tomorrow, sans-serif;\n            font-size: var(--font-size, 16px);\n            transition: border-color 0.2s ease, background-color 0.2s ease;\n          }\n          .input-wrapper:focus-within {\n            border-color: var(--primary--, rgba(4,134,209,1));\n            background: var(--base-hover, rgba(215,219,222,1));\n          }\n          textarea {\n            flex: 1;\n            border: none;\n            outline: none;\n            background: transparent;\n            color: inherit;\n            font-family: inherit;\n            font-size: inherit;\n            resize: vertical;\n            min-height: 80px;\n            padding: var(--spacing-small, 8px);\n          }\n          textarea::placeholder {\n            color: var(--base-text-subtle, rgba(109,110,112,1));\n          }\n          .icon {\n            display: flex;\n            align-items: center;\n          }\n          .hidden {\n            display: none;\n          }\n          /* Invalid state styles */\n          :host([invalid]) .input-wrapper {\n            border-color: var(--error--, rgba(217,4,40,1));\n            color: var(--error--, rgba(217,4,40,1));\n            background: var(--error-background--, rgba(250,245,246,1));\n          }\n          :host([invalid]) .input-wrapper:hover {\n            background: var(--error-background-hover, rgba(246,215,220,1));\n          }\n          :host([invalid]) .input-wrapper:active,\n          :host([invalid]) .input-wrapper:focus-within {\n            background: var(--error-background-active, rgba(242,185,195,1));\n          }\n          :host([invalid][label-position="top"]) .label-wrapper,\n          :host([invalid][label-position="bottom"]) .label-wrapper {\n            color: var(--error--, rgba(217,4,40,1));\n          }\n          :host([invalid][label-position="left"]) .label-wrapper,\n          :host([invalid][label-position="right"]) .label-wrapper {\n            background-color: var(--error--, rgba(217,4,40,1));\n          }\n        </style>\n        <div class="input-container" part="input-container">\n            <div class="label-wrapper" part="label-wrapper">\n                <span class="label-icon left-label-icon"><slot name="left-label-icon"></slot></span>\n                <span class="label-text"></span>\n                <span class="label-icon right-label-icon"><slot name="right-label-icon"></slot></span>\n            </div>\n            <div class="input-wrapper" part="input-wrapper">\n                <span class="icon left-icon"><slot name="left-icon"></slot></span>\n                <textarea></textarea>\n                <span class="icon right-icon"><slot name="right-icon"></slot></span>\n            </div>\n        </div>\n      ',this.textareaElement=this.shadowRoot.querySelector("textarea"),this.labelTextElement=this.shadowRoot.querySelector(".label-text"),this.labelWrapper=this.shadowRoot.querySelector(".label-wrapper"),this.manageSlotVisibility("left-label-icon",".left-label-icon"),this.manageSlotVisibility("right-label-icon",".right-label-icon"),this.manageSlotVisibility("left-icon",".left-icon"),this.manageSlotVisibility("right-icon",".right-icon"),this.addEventListeners()}syncAttributes(){y.observedAttributes.forEach((e=>{this.hasAttribute(e)&&this.syncAttributesToTextarea(e,this.getAttribute(e))})),this.updateLabel()}syncAttributesToTextarea(e,t){null===t?this.textareaElement.removeAttribute(e):this.textareaElement.setAttribute(e,t)}updateLabel(){const e=this.getAttribute("label")||"",t=this.getAttribute("label-position")||"top";this.labelTextElement.textContent=e,this.setAttribute("label-position",t),this.labelWrapper.style.display=e?"flex":"none"}manageSlotVisibility(e,t){const n=this.shadowRoot.querySelector(`slot[name="${e}"]`),r=this.shadowRoot.querySelector(t),a=()=>{const e=n.assignedNodes().length>0;r.classList.toggle("hidden",!e)};n&&(n.addEventListener("slotchange",a),a())}addEventListeners(){this.textareaElement.addEventListener("focus",(()=>{this.labelWrapper.classList.add("selected")})),this.textareaElement.addEventListener("blur",(()=>{this.labelWrapper.classList.remove("selected")})),this.textareaElement.addEventListener("input",(()=>{this.dispatchEvent(new CustomEvent("input",{detail:{value:this.textareaElement.value},bubbles:!0,composed:!0})),this.updateValidation()})),this.textareaElement.addEventListener("change",(()=>{this.setAttribute("value",this.textareaElement.value),this.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),this.updateValidation()}))}updateValidation(){this.hasAttribute("data-manual-invalid")||(this.hasAttribute("required")&&!this.textareaElement.value.trim()?this.setAttribute("invalid",""):this.removeAttribute("invalid"))}get value(){return this.textareaElement.value}set value(e){this.setAttribute("value",e)}get invalid(){return this.hasAttribute("invalid")}set invalid(e){e?(this.setAttribute("data-manual-invalid","true"),this.setAttribute("invalid","")):(this.removeAttribute("data-manual-invalid"),this.removeAttribute("invalid"))}}customElements.get("kp-textarea")||customElements.define("kp-textarea",y);class w extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.render(),this._timeoutId=null,this._boundReposition=this._reposition.bind(this)}static get observedAttributes(){return["anchor","position","align","trigger","time"]}getContainer(e,t){const n=t?"querySelectorAll":"querySelector";return window.__routerShadowRoot?window.__routerShadowRoot[n](e):document[n](e)}attributeChangedCallback(e,t,n){t!==n&&this.updateComponent()}connectedCallback(){this.updateComponent(),this.addEventListeners(),window.addEventListener("scroll",this._boundReposition,!0),window.addEventListener("resize",this._boundReposition);const e=this.getAnchor();e&&(this.anchorObserver=new MutationObserver((()=>{this.positionTooltip(e)})),this.anchorObserver.observe(e,{attributes:!0,childList:!0,subtree:!0}))}disconnectedCallback(){window.removeEventListener("scroll",this._boundReposition,!0),window.removeEventListener("resize",this._boundReposition),this.anchorObserver&&this.anchorObserver.disconnect(),this._timeoutId&&clearTimeout(this._timeoutId)}getAnchor(){const e=this.getAttribute("anchor");return e?this.getContainer(e):null}render(){this.shadowRoot.innerHTML='\n        <style>\n          :host {\n            display: none;\n            position: fixed;\n            box-sizing: border-box;\n            padding: var(--spacing-medium, 8px);\n            background: var(--base-text--, rgba(29,29,29,1));\n            max-width: 200px;\n            z-index: 1000;\n            font-family: Tomorrow, monospace;\n            font-size: var(--size-p, 1em);\n            line-height: 1.4;\n          }\n          .tooltip-content {\n            display: block;\n            color: var(--base-surface, rgba(241,246,250,1));\n          }\n          .tooltip-pointer {\n            position: absolute;\n            width: 10px;\n            height: 10px;\n            background: var(--tooltip-bg, var(--base-text--, rgba(29,29,29,1)));\n            transform: rotate(45deg);\n          }\n        </style>\n        <div class="tooltip-content">\n          <slot></slot>\n        </div>\n        <div class="tooltip-pointer"></div>\n      ',this.pointer=this.shadowRoot.querySelector(".tooltip-pointer")}updateComponent(){const e=this.getAnchor();e&&this.positionTooltip(e)}addEventListeners(){const e=this.getAnchor();if(!e)return;const t=this.getAttribute("trigger")||"hover";"hover"===t?(e.addEventListener("mouseover",(()=>{this.showTooltip()})),e.addEventListener("mouseout",(()=>{this.hideTooltip()}))):"click"===t&&e.addEventListener("click",(e=>{e.stopPropagation(),"block"===this.style.display?this.hideTooltip():this.showTooltip()}))}showTooltip(){const e=this.getAnchor();if(!e)return;this.style.display="block",this.positionTooltip(e);const t=this.getAttribute("time");if(t&&!isNaN(parseInt(t,10))){const e=parseInt(t,10);this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=setTimeout((()=>{this.hideTooltip()}),e)}}hideTooltip(){this.style.display="none",this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)}positionTooltip(e){if(!e)return;const t=this.getAttribute("position")||"bottom",n=this.getAttribute("align")||"start",r=e.getBoundingClientRect(),a=this.getBoundingClientRect(),i=window.innerWidth,s=window.innerHeight;let o=0,l=0;"top"===t?(o=r.top-a.height-8,"start"===n?l=r.left:"center"===n?l=r.left+(r.width-a.width)/2:"end"===n&&(l=r.right-a.width)):"bottom"===t?(o=r.bottom+8,"start"===n?l=r.left:"center"===n?l=r.left+(r.width-a.width)/2:"end"===n&&(l=r.right-a.width)):"left"===t?(l=r.left-a.width-8,"start"===n?o=r.top:"center"===n?o=r.top+(r.height-a.height)/2:"end"===n&&(o=r.bottom-a.height)):"right"===t&&(l=r.right+8,"start"===n?o=r.top:"center"===n?o=r.top+(r.height-a.height)/2:"end"===n&&(o=r.bottom-a.height)),l+a.width>i&&(l=i-a.width-10),o+a.height>s&&(o=s-a.height-10),l<10&&(l=10),o<10&&(o=10),this.style.top=`${o}px`,this.style.left=`${l}px`,this.updatePointer(t,n,a)}updatePointer(e,t,n){const r=10;this.pointer.style.top="",this.pointer.style.bottom="",this.pointer.style.left="",this.pointer.style.right="","top"===e?(this.pointer.style.bottom="-5px","start"===t?this.pointer.style.left="10px":"center"===t?this.pointer.style.left=(n.width-r)/2+"px":"end"===t&&(this.pointer.style.left=n.width-r-10+"px")):"bottom"===e?(this.pointer.style.top="-5px","start"===t?this.pointer.style.left="10px":"center"===t?this.pointer.style.left=(n.width-r)/2+"px":"end"===t&&(this.pointer.style.left=n.width-r-10+"px")):"left"===e?(this.pointer.style.right="-5px","start"===t?this.pointer.style.top="10px":"center"===t?this.pointer.style.top=(n.height-r)/2+"px":"end"===t&&(this.pointer.style.top=n.height-r-10+"px")):"right"===e&&(this.pointer.style.left="-5px","start"===t?this.pointer.style.top="10px":"center"===t?this.pointer.style.top=(n.height-r)/2+"px":"end"===t&&(this.pointer.style.top=n.height-r-10+"px"))}_reposition(){const e=this.getAnchor();e&&"block"===this.style.display&&this.positionTooltip(e)}}customElements.get("kp-tooltip")||customElements.define("kp-tooltip",w);
